function $parcel$interopDefault(a){return a&&a.__esModule?a.default:a}var $parcel$global=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};
/*
	Sargasso

	Simple, Fast, Reactive, supervised Javascript controllers for html elements.

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020 Michael Rhodes

	*/
/**
	Sargasso

	Base class for responsive Sargasso element controllers. Subclass this to
	define specific behavior. If you mutate the DOM in your code you
	should use frames for best results.

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/
/**
	Utility routines for Sargasso classes

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/var $bd9a4487e89e9b7f$exports={};var $1fe7b7140fcf8f7e$exports={};var $4d9d2fa6bf96438c$exports={};var $ca52cd70f22ba1e9$exports={};var $a4a92e55c85898ef$exports={};var $8101beff1446c944$exports={};var $82f851726a988068$exports={};var $82f851726a988068$var$freeGlobal=typeof $parcel$global=="object"&&$parcel$global&&$parcel$global.Object===Object&&$parcel$global;$82f851726a988068$exports=$82f851726a988068$var$freeGlobal;var $8101beff1446c944$var$freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var $8101beff1446c944$var$root=$82f851726a988068$exports||$8101beff1446c944$var$freeSelf||Function("return this")();$8101beff1446c944$exports=$8101beff1446c944$var$root;var $a4a92e55c85898ef$var$Symbol=$8101beff1446c944$exports.Symbol;$a4a92e55c85898ef$exports=$a4a92e55c85898ef$var$Symbol;var $121ced537c61e5e8$exports={};function $121ced537c61e5e8$var$arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length)result[index]=iteratee(array[index],index,array);return result}$121ced537c61e5e8$exports=$121ced537c61e5e8$var$arrayMap;var $510fa7180867054c$exports={};var $510fa7180867054c$var$isArray=Array.isArray;$510fa7180867054c$exports=$510fa7180867054c$var$isArray;var $feaeb29a5a25786c$exports={};var $1d94205848e4d87d$exports={};var $5e94ff245943c4ab$exports={};var $5e94ff245943c4ab$var$objectProto=Object.prototype;var $5e94ff245943c4ab$var$hasOwnProperty=$5e94ff245943c4ab$var$objectProto.hasOwnProperty;var $5e94ff245943c4ab$var$nativeObjectToString=$5e94ff245943c4ab$var$objectProto.toString;var $5e94ff245943c4ab$var$symToStringTag=$a4a92e55c85898ef$exports?$a4a92e55c85898ef$exports.toStringTag:undefined;function $5e94ff245943c4ab$var$getRawTag(value){var isOwn=$5e94ff245943c4ab$var$hasOwnProperty.call(value,$5e94ff245943c4ab$var$symToStringTag),tag=value[$5e94ff245943c4ab$var$symToStringTag];try{value[$5e94ff245943c4ab$var$symToStringTag]=undefined;var unmasked=true}catch(e){}var result=$5e94ff245943c4ab$var$nativeObjectToString.call(value);if(unmasked){if(isOwn)value[$5e94ff245943c4ab$var$symToStringTag]=tag;else delete value[$5e94ff245943c4ab$var$symToStringTag]}return result}$5e94ff245943c4ab$exports=$5e94ff245943c4ab$var$getRawTag;var $541fd5f83d4f2cc8$exports={};var $541fd5f83d4f2cc8$var$objectProto=Object.prototype;var $541fd5f83d4f2cc8$var$nativeObjectToString=$541fd5f83d4f2cc8$var$objectProto.toString;function $541fd5f83d4f2cc8$var$objectToString(value){return $541fd5f83d4f2cc8$var$nativeObjectToString.call(value)}$541fd5f83d4f2cc8$exports=$541fd5f83d4f2cc8$var$objectToString;var $1d94205848e4d87d$var$nullTag="[object Null]",$1d94205848e4d87d$var$undefinedTag="[object Undefined]";var $1d94205848e4d87d$var$symToStringTag=$a4a92e55c85898ef$exports?$a4a92e55c85898ef$exports.toStringTag:undefined;function $1d94205848e4d87d$var$baseGetTag(value){if(value==null)return value===undefined?$1d94205848e4d87d$var$undefinedTag:$1d94205848e4d87d$var$nullTag;return $1d94205848e4d87d$var$symToStringTag&&$1d94205848e4d87d$var$symToStringTag in Object(value)?$5e94ff245943c4ab$exports(value):$541fd5f83d4f2cc8$exports(value)}$1d94205848e4d87d$exports=$1d94205848e4d87d$var$baseGetTag;var $8a048ca9ebc45a7b$exports={};function $8a048ca9ebc45a7b$var$isObjectLike(value){return value!=null&&typeof value=="object"}$8a048ca9ebc45a7b$exports=$8a048ca9ebc45a7b$var$isObjectLike;var $feaeb29a5a25786c$var$symbolTag="[object Symbol]";function $feaeb29a5a25786c$var$isSymbol(value){return typeof value=="symbol"||$8a048ca9ebc45a7b$exports(value)&&$1d94205848e4d87d$exports(value)==$feaeb29a5a25786c$var$symbolTag}$feaeb29a5a25786c$exports=$feaeb29a5a25786c$var$isSymbol;var $ca52cd70f22ba1e9$var$INFINITY=1/0;var $ca52cd70f22ba1e9$var$symbolProto=$a4a92e55c85898ef$exports?$a4a92e55c85898ef$exports.prototype:undefined,$ca52cd70f22ba1e9$var$symbolToString=$ca52cd70f22ba1e9$var$symbolProto?$ca52cd70f22ba1e9$var$symbolProto.toString:undefined;function $ca52cd70f22ba1e9$var$baseToString(value){if(typeof value=="string")return value;if($510fa7180867054c$exports(value))return $121ced537c61e5e8$exports(value,$ca52cd70f22ba1e9$var$baseToString)+"";if($feaeb29a5a25786c$exports(value))return $ca52cd70f22ba1e9$var$symbolToString?$ca52cd70f22ba1e9$var$symbolToString.call(value):"";var result=value+"";return result=="0"&&1/value==-$ca52cd70f22ba1e9$var$INFINITY?"-0":result}$ca52cd70f22ba1e9$exports=$ca52cd70f22ba1e9$var$baseToString;function $4d9d2fa6bf96438c$var$toString(value){return value==null?"":$ca52cd70f22ba1e9$exports(value)}$4d9d2fa6bf96438c$exports=$4d9d2fa6bf96438c$var$toString;var $b2af79b3f30b711a$exports={};var $387c7f28cb7f9fe4$exports={};var $104b24dbed7c7c44$exports={};var $41d7ffb3d7644903$exports={};function $41d7ffb3d7644903$var$baseSlice(array,start,end){var index=-1,length=array.length;if(start<0)start=-start>length?0:length+start;end=end>length?length:end;if(end<0)end+=length;length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length)result[index]=array[index+start];return result}$41d7ffb3d7644903$exports=$41d7ffb3d7644903$var$baseSlice;function $104b24dbed7c7c44$var$castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:$41d7ffb3d7644903$exports(array,start,end)}$104b24dbed7c7c44$exports=$104b24dbed7c7c44$var$castSlice;var $871aa669feb0823b$exports={};var $871aa669feb0823b$var$rsAstralRange="\ud800-\udfff",$871aa669feb0823b$var$rsComboMarksRange="\\u0300-\\u036f",$871aa669feb0823b$var$reComboHalfMarksRange="\\ufe20-\\ufe2f",$871aa669feb0823b$var$rsComboSymbolsRange="\\u20d0-\\u20ff",$871aa669feb0823b$var$rsComboRange=$871aa669feb0823b$var$rsComboMarksRange+$871aa669feb0823b$var$reComboHalfMarksRange+$871aa669feb0823b$var$rsComboSymbolsRange,$871aa669feb0823b$var$rsVarRange="\\ufe0e\\ufe0f";var $871aa669feb0823b$var$rsZWJ="\\u200d";var $871aa669feb0823b$var$reHasUnicode=RegExp("["+$871aa669feb0823b$var$rsZWJ+$871aa669feb0823b$var$rsAstralRange+$871aa669feb0823b$var$rsComboRange+$871aa669feb0823b$var$rsVarRange+"]");function $871aa669feb0823b$var$hasUnicode(string){return $871aa669feb0823b$var$reHasUnicode.test(string)}$871aa669feb0823b$exports=$871aa669feb0823b$var$hasUnicode;var $9d86cd16f07c38f7$exports={};var $57d825f9357373fd$exports={};function $57d825f9357373fd$var$asciiToArray(string){return string.split("")}$57d825f9357373fd$exports=$57d825f9357373fd$var$asciiToArray;var $971b61e4986555ca$exports={};var $971b61e4986555ca$var$rsAstralRange="\ud800-\udfff",$971b61e4986555ca$var$rsComboMarksRange="\\u0300-\\u036f",$971b61e4986555ca$var$reComboHalfMarksRange="\\ufe20-\\ufe2f",$971b61e4986555ca$var$rsComboSymbolsRange="\\u20d0-\\u20ff",$971b61e4986555ca$var$rsComboRange=$971b61e4986555ca$var$rsComboMarksRange+$971b61e4986555ca$var$reComboHalfMarksRange+$971b61e4986555ca$var$rsComboSymbolsRange,$971b61e4986555ca$var$rsVarRange="\\ufe0e\\ufe0f";var $971b61e4986555ca$var$rsAstral="["+$971b61e4986555ca$var$rsAstralRange+"]",$971b61e4986555ca$var$rsCombo="["+$971b61e4986555ca$var$rsComboRange+"]",$971b61e4986555ca$var$rsFitz="\ud83c[\udffb-\udfff]",$971b61e4986555ca$var$rsModifier="(?:"+$971b61e4986555ca$var$rsCombo+"|"+$971b61e4986555ca$var$rsFitz+")",$971b61e4986555ca$var$rsNonAstral="[^"+$971b61e4986555ca$var$rsAstralRange+"]",$971b61e4986555ca$var$rsRegional="(?:\ud83c[\udde6-\uddff]){2}",$971b61e4986555ca$var$rsSurrPair="[\ud800-\udbff][\udc00-\udfff]",$971b61e4986555ca$var$rsZWJ="\\u200d";var $971b61e4986555ca$var$reOptMod=$971b61e4986555ca$var$rsModifier+"?",$971b61e4986555ca$var$rsOptVar="["+$971b61e4986555ca$var$rsVarRange+"]?",$971b61e4986555ca$var$rsOptJoin="(?:"+$971b61e4986555ca$var$rsZWJ+"(?:"+[$971b61e4986555ca$var$rsNonAstral,$971b61e4986555ca$var$rsRegional,$971b61e4986555ca$var$rsSurrPair].join("|")+")"+$971b61e4986555ca$var$rsOptVar+$971b61e4986555ca$var$reOptMod+")*",$971b61e4986555ca$var$rsSeq=$971b61e4986555ca$var$rsOptVar+$971b61e4986555ca$var$reOptMod+$971b61e4986555ca$var$rsOptJoin,$971b61e4986555ca$var$rsSymbol="(?:"+[$971b61e4986555ca$var$rsNonAstral+$971b61e4986555ca$var$rsCombo+"?",$971b61e4986555ca$var$rsCombo,$971b61e4986555ca$var$rsRegional,$971b61e4986555ca$var$rsSurrPair,$971b61e4986555ca$var$rsAstral].join("|")+")";var $971b61e4986555ca$var$reUnicode=RegExp($971b61e4986555ca$var$rsFitz+"(?="+$971b61e4986555ca$var$rsFitz+")|"+$971b61e4986555ca$var$rsSymbol+$971b61e4986555ca$var$rsSeq,"g");function $971b61e4986555ca$var$unicodeToArray(string){return string.match($971b61e4986555ca$var$reUnicode)||[]}$971b61e4986555ca$exports=$971b61e4986555ca$var$unicodeToArray;function $9d86cd16f07c38f7$var$stringToArray(string){return $871aa669feb0823b$exports(string)?$971b61e4986555ca$exports(string):$57d825f9357373fd$exports(string)}$9d86cd16f07c38f7$exports=$9d86cd16f07c38f7$var$stringToArray;function $387c7f28cb7f9fe4$var$createCaseFirst(methodName){return function(string){string=$4d9d2fa6bf96438c$exports(string);var strSymbols=$871aa669feb0823b$exports(string)?$9d86cd16f07c38f7$exports(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?$104b24dbed7c7c44$exports(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}$387c7f28cb7f9fe4$exports=$387c7f28cb7f9fe4$var$createCaseFirst;var $b2af79b3f30b711a$var$upperFirst=$387c7f28cb7f9fe4$exports("toUpperCase");$b2af79b3f30b711a$exports=$b2af79b3f30b711a$var$upperFirst;function $1fe7b7140fcf8f7e$var$capitalize(string){return $b2af79b3f30b711a$exports($4d9d2fa6bf96438c$exports(string).toLowerCase())}$1fe7b7140fcf8f7e$exports=$1fe7b7140fcf8f7e$var$capitalize;var $4df42f2cb76a6bb7$exports={};var $7f8c7293b1fd0883$exports={};function $7f8c7293b1fd0883$var$arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length)accumulator=array[++index];while(++index<length)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}$7f8c7293b1fd0883$exports=$7f8c7293b1fd0883$var$arrayReduce;var $4e6545555fb9faee$exports={};var $7fd38ff43ce47be5$exports={};var $b5a0b078a3f25103$exports={};function $b5a0b078a3f25103$var$basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}$b5a0b078a3f25103$exports=$b5a0b078a3f25103$var$basePropertyOf;var $7fd38ff43ce47be5$var$deburredLetters={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"};var $7fd38ff43ce47be5$var$deburrLetter=$b5a0b078a3f25103$exports($7fd38ff43ce47be5$var$deburredLetters);$7fd38ff43ce47be5$exports=$7fd38ff43ce47be5$var$deburrLetter;var $4e6545555fb9faee$var$reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var $4e6545555fb9faee$var$rsComboMarksRange="\\u0300-\\u036f",$4e6545555fb9faee$var$reComboHalfMarksRange="\\ufe20-\\ufe2f",$4e6545555fb9faee$var$rsComboSymbolsRange="\\u20d0-\\u20ff",$4e6545555fb9faee$var$rsComboRange=$4e6545555fb9faee$var$rsComboMarksRange+$4e6545555fb9faee$var$reComboHalfMarksRange+$4e6545555fb9faee$var$rsComboSymbolsRange;var $4e6545555fb9faee$var$rsCombo="["+$4e6545555fb9faee$var$rsComboRange+"]";var $4e6545555fb9faee$var$reComboMark=RegExp($4e6545555fb9faee$var$rsCombo,"g");function $4e6545555fb9faee$var$deburr(string){string=$4d9d2fa6bf96438c$exports(string);return string&&string.replace($4e6545555fb9faee$var$reLatin,$7fd38ff43ce47be5$exports).replace($4e6545555fb9faee$var$reComboMark,"")}$4e6545555fb9faee$exports=$4e6545555fb9faee$var$deburr;var $302d41484714ab12$exports={};var $5ab95bfc4002b659$exports={};var $5ab95bfc4002b659$var$reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function $5ab95bfc4002b659$var$asciiWords(string){return string.match($5ab95bfc4002b659$var$reAsciiWord)||[]}$5ab95bfc4002b659$exports=$5ab95bfc4002b659$var$asciiWords;var $16ffcee0fa1886af$exports={};var $16ffcee0fa1886af$var$reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function $16ffcee0fa1886af$var$hasUnicodeWord(string){return $16ffcee0fa1886af$var$reHasUnicodeWord.test(string)}$16ffcee0fa1886af$exports=$16ffcee0fa1886af$var$hasUnicodeWord;var $df2a7a2c9a1a46d1$exports={};var $df2a7a2c9a1a46d1$var$rsAstralRange="\ud800-\udfff",$df2a7a2c9a1a46d1$var$rsComboMarksRange="\\u0300-\\u036f",$df2a7a2c9a1a46d1$var$reComboHalfMarksRange="\\ufe20-\\ufe2f",$df2a7a2c9a1a46d1$var$rsComboSymbolsRange="\\u20d0-\\u20ff",$df2a7a2c9a1a46d1$var$rsComboRange=$df2a7a2c9a1a46d1$var$rsComboMarksRange+$df2a7a2c9a1a46d1$var$reComboHalfMarksRange+$df2a7a2c9a1a46d1$var$rsComboSymbolsRange,$df2a7a2c9a1a46d1$var$rsDingbatRange="\\u2700-\\u27bf",$df2a7a2c9a1a46d1$var$rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",$df2a7a2c9a1a46d1$var$rsMathOpRange="\\xac\\xb1\\xd7\\xf7",$df2a7a2c9a1a46d1$var$rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$df2a7a2c9a1a46d1$var$rsPunctuationRange="\\u2000-\\u206f",$df2a7a2c9a1a46d1$var$rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$df2a7a2c9a1a46d1$var$rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",$df2a7a2c9a1a46d1$var$rsVarRange="\\ufe0e\\ufe0f",$df2a7a2c9a1a46d1$var$rsBreakRange=$df2a7a2c9a1a46d1$var$rsMathOpRange+$df2a7a2c9a1a46d1$var$rsNonCharRange+$df2a7a2c9a1a46d1$var$rsPunctuationRange+$df2a7a2c9a1a46d1$var$rsSpaceRange;var $df2a7a2c9a1a46d1$var$rsApos="['â€™]",$df2a7a2c9a1a46d1$var$rsBreak="["+$df2a7a2c9a1a46d1$var$rsBreakRange+"]",$df2a7a2c9a1a46d1$var$rsCombo="["+$df2a7a2c9a1a46d1$var$rsComboRange+"]",$df2a7a2c9a1a46d1$var$rsDigits="\\d+",$df2a7a2c9a1a46d1$var$rsDingbat="["+$df2a7a2c9a1a46d1$var$rsDingbatRange+"]",$df2a7a2c9a1a46d1$var$rsLower="["+$df2a7a2c9a1a46d1$var$rsLowerRange+"]",$df2a7a2c9a1a46d1$var$rsMisc="[^"+$df2a7a2c9a1a46d1$var$rsAstralRange+$df2a7a2c9a1a46d1$var$rsBreakRange+$df2a7a2c9a1a46d1$var$rsDigits+$df2a7a2c9a1a46d1$var$rsDingbatRange+$df2a7a2c9a1a46d1$var$rsLowerRange+$df2a7a2c9a1a46d1$var$rsUpperRange+"]",$df2a7a2c9a1a46d1$var$rsFitz="\ud83c[\udffb-\udfff]",$df2a7a2c9a1a46d1$var$rsModifier="(?:"+$df2a7a2c9a1a46d1$var$rsCombo+"|"+$df2a7a2c9a1a46d1$var$rsFitz+")",$df2a7a2c9a1a46d1$var$rsNonAstral="[^"+$df2a7a2c9a1a46d1$var$rsAstralRange+"]",$df2a7a2c9a1a46d1$var$rsRegional="(?:\ud83c[\udde6-\uddff]){2}",$df2a7a2c9a1a46d1$var$rsSurrPair="[\ud800-\udbff][\udc00-\udfff]",$df2a7a2c9a1a46d1$var$rsUpper="["+$df2a7a2c9a1a46d1$var$rsUpperRange+"]",$df2a7a2c9a1a46d1$var$rsZWJ="\\u200d";var $df2a7a2c9a1a46d1$var$rsMiscLower="(?:"+$df2a7a2c9a1a46d1$var$rsLower+"|"+$df2a7a2c9a1a46d1$var$rsMisc+")",$df2a7a2c9a1a46d1$var$rsMiscUpper="(?:"+$df2a7a2c9a1a46d1$var$rsUpper+"|"+$df2a7a2c9a1a46d1$var$rsMisc+")",$df2a7a2c9a1a46d1$var$rsOptContrLower="(?:"+$df2a7a2c9a1a46d1$var$rsApos+"(?:d|ll|m|re|s|t|ve))?",$df2a7a2c9a1a46d1$var$rsOptContrUpper="(?:"+$df2a7a2c9a1a46d1$var$rsApos+"(?:D|LL|M|RE|S|T|VE))?",$df2a7a2c9a1a46d1$var$reOptMod=$df2a7a2c9a1a46d1$var$rsModifier+"?",$df2a7a2c9a1a46d1$var$rsOptVar="["+$df2a7a2c9a1a46d1$var$rsVarRange+"]?",$df2a7a2c9a1a46d1$var$rsOptJoin="(?:"+$df2a7a2c9a1a46d1$var$rsZWJ+"(?:"+[$df2a7a2c9a1a46d1$var$rsNonAstral,$df2a7a2c9a1a46d1$var$rsRegional,$df2a7a2c9a1a46d1$var$rsSurrPair].join("|")+")"+$df2a7a2c9a1a46d1$var$rsOptVar+$df2a7a2c9a1a46d1$var$reOptMod+")*",$df2a7a2c9a1a46d1$var$rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$df2a7a2c9a1a46d1$var$rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$df2a7a2c9a1a46d1$var$rsSeq=$df2a7a2c9a1a46d1$var$rsOptVar+$df2a7a2c9a1a46d1$var$reOptMod+$df2a7a2c9a1a46d1$var$rsOptJoin,$df2a7a2c9a1a46d1$var$rsEmoji="(?:"+[$df2a7a2c9a1a46d1$var$rsDingbat,$df2a7a2c9a1a46d1$var$rsRegional,$df2a7a2c9a1a46d1$var$rsSurrPair].join("|")+")"+$df2a7a2c9a1a46d1$var$rsSeq;var $df2a7a2c9a1a46d1$var$reUnicodeWord=RegExp([$df2a7a2c9a1a46d1$var$rsUpper+"?"+$df2a7a2c9a1a46d1$var$rsLower+"+"+$df2a7a2c9a1a46d1$var$rsOptContrLower+"(?="+[$df2a7a2c9a1a46d1$var$rsBreak,$df2a7a2c9a1a46d1$var$rsUpper,"$"].join("|")+")",$df2a7a2c9a1a46d1$var$rsMiscUpper+"+"+$df2a7a2c9a1a46d1$var$rsOptContrUpper+"(?="+[$df2a7a2c9a1a46d1$var$rsBreak,$df2a7a2c9a1a46d1$var$rsUpper+$df2a7a2c9a1a46d1$var$rsMiscLower,"$"].join("|")+")",$df2a7a2c9a1a46d1$var$rsUpper+"?"+$df2a7a2c9a1a46d1$var$rsMiscLower+"+"+$df2a7a2c9a1a46d1$var$rsOptContrLower,$df2a7a2c9a1a46d1$var$rsUpper+"+"+$df2a7a2c9a1a46d1$var$rsOptContrUpper,$df2a7a2c9a1a46d1$var$rsOrdUpper,$df2a7a2c9a1a46d1$var$rsOrdLower,$df2a7a2c9a1a46d1$var$rsDigits,$df2a7a2c9a1a46d1$var$rsEmoji].join("|"),"g");function $df2a7a2c9a1a46d1$var$unicodeWords(string){return string.match($df2a7a2c9a1a46d1$var$reUnicodeWord)||[]}$df2a7a2c9a1a46d1$exports=$df2a7a2c9a1a46d1$var$unicodeWords;function $302d41484714ab12$var$words(string,pattern,guard){string=$4d9d2fa6bf96438c$exports(string);pattern=guard?undefined:pattern;if(pattern===undefined)return $16ffcee0fa1886af$exports(string)?$df2a7a2c9a1a46d1$exports(string):$5ab95bfc4002b659$exports(string);return string.match(pattern)||[]}$302d41484714ab12$exports=$302d41484714ab12$var$words;var $4df42f2cb76a6bb7$var$rsApos="['â€™]";var $4df42f2cb76a6bb7$var$reApos=RegExp($4df42f2cb76a6bb7$var$rsApos,"g");function $4df42f2cb76a6bb7$var$createCompounder(callback){return function(string){return $7f8c7293b1fd0883$exports($302d41484714ab12$exports($4e6545555fb9faee$exports(string).replace($4df42f2cb76a6bb7$var$reApos,"")),callback,"")}}$4df42f2cb76a6bb7$exports=$4df42f2cb76a6bb7$var$createCompounder;var $bd9a4487e89e9b7f$var$camelCase=$4df42f2cb76a6bb7$exports((function(result,word,index){word=word.toLowerCase();return result+(index?$1fe7b7140fcf8f7e$exports(word):word)}));$bd9a4487e89e9b7f$exports=$bd9a4487e89e9b7f$var$camelCase;const $d058b9b16cf9cda3$var$validators={};const $d058b9b16cf9cda3$export$636d763ed7be9e97=(name,fn)=>{$d058b9b16cf9cda3$var$validators[name]=fn};$d058b9b16cf9cda3$export$636d763ed7be9e97("isDefined",(arg=>arg!==undefined));$d058b9b16cf9cda3$export$636d763ed7be9e97("isUnDefined",(arg=>arg===undefined));$d058b9b16cf9cda3$export$636d763ed7be9e97("isNull",(arg=>arg===null));$d058b9b16cf9cda3$export$636d763ed7be9e97("isElement",(arg=>arg&&(arg instanceof Element||arg instanceof Window)));$d058b9b16cf9cda3$export$636d763ed7be9e97("isEventTarget",(arg=>arg&&arg instanceof EventTarget));$d058b9b16cf9cda3$export$636d763ed7be9e97("isString",(arg=>arg&&(typeof arg==="string"||arg instanceof String)));$d058b9b16cf9cda3$export$636d763ed7be9e97("isArray",(arg=>arg&&arg instanceof Array));$d058b9b16cf9cda3$export$636d763ed7be9e97("notEmpty",(arg=>arg instanceof Array?arg.length!==0:arg!==""));$d058b9b16cf9cda3$export$636d763ed7be9e97("isEmpty",(arg=>arg===undefined||!arg||(arg instanceof Array?arg.length===0:arg==="")));$d058b9b16cf9cda3$export$636d763ed7be9e97("isObject",(arg=>arg&&arg instanceof Object));$d058b9b16cf9cda3$export$636d763ed7be9e97("isFunction",(arg=>arg&&typeof arg==="function"));const $d058b9b16cf9cda3$export$a22775fa5e2eebd9=(param,arg,tests)=>{const allOf=tests.map((test=>{if(test instanceof Array){const anyOf=test.map((orTest=>$d058b9b16cf9cda3$var$validators[orTest]&&$d058b9b16cf9cda3$var$validators[orTest](arg)));return anyOf.indexOf(true)!==-1}else return $d058b9b16cf9cda3$var$validators[test]&&$d058b9b16cf9cda3$var$validators[test](arg)}));if(allOf.indexOf(false)!==-1)throw new Error("call to "+param+" invalid value: "+arg+" "+tests,0+allOf)};const $b17b0a5c39dee3e4$export$8350ba437fdadadb=new WeakMap;const $b17b0a5c39dee3e4$var$hasClass=(element,cssClass)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("hasClass element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("hasClass cssClass",cssClass,["isDefined","notEmpty","isString"]);return element.classList.contains(cssClass)};const $b17b0a5c39dee3e4$var$addClass=(element,addClasses)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("addClass element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("addClass addClasses",addClasses,["isDefined","notEmpty",["isString","isArray"]]);if(!Array.isArray(addClasses))addClasses=addClasses.split(/[\s,]/);addClasses.forEach((c=>{c=c.trim();if(!$b17b0a5c39dee3e4$var$hasClass(element,c))element.classList.add(c)}))};const $b17b0a5c39dee3e4$var$removeClass=(element,removeClasses)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("removeClass element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("removeClass removeClasses",removeClasses,["isDefined","notEmpty",["isString","isArray"]]);if(!Array.isArray(removeClasses))removeClasses=removeClasses.split(/[\s,]/);removeClasses.forEach((c=>{c=c.trim();if($b17b0a5c39dee3e4$var$hasClass(element,c))element.classList.remove(c)}))};const $b17b0a5c39dee3e4$var$isVisible=element=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("isVisible element",element,["isDefined","isElement"]);return!!(element.offsetWidth||element.offsetHeight||element.getClientRects().length)};const $b17b0a5c39dee3e4$var$inViewPort=(element,container=window)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("inViewPort element",element,["isDefined","isElement"]);const rect=element.getBoundingClientRect();const visible=$b17b0a5c39dee3e4$var$isVisible(element);const aboveTheTop=rect.bottom<0;let belowTheFold;if(container.self===window)belowTheFold=rect.top>(window.innerHeight||document.documentElement.clientHeight);else belowTheFold=rect.top>container.clientHeight;return visible&&!belowTheFold&&!aboveTheTop};const $b17b0a5c39dee3e4$var$css=(element,css)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("css element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("css css",css,["isDefined",["isObject"]]);for(const prop in css)if(Object.prototype.hasOwnProperty.call(css,prop)){const key=(0,$parcel$interopDefault($bd9a4487e89e9b7f$exports))(prop);element.style[key]=css[prop]!==null?css[prop]:null}};const $b17b0a5c39dee3e4$var$setMetaData=(element,k,v)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("setMetaData element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("setMetaData k",k,["isDefined","isString"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("setMetaData v",v,[["isUnDefined","isNull","isString","isObject"]]);const data=$b17b0a5c39dee3e4$export$8350ba437fdadadb.get(element)||{};if(v)data[k]=v;else delete data[k];$b17b0a5c39dee3e4$export$8350ba437fdadadb.set(element,data)};const $b17b0a5c39dee3e4$var$getMetaData=(element,k)=>{(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("getMetaData element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("getMetaData k",k,["isDefined","isString"]);const data=$b17b0a5c39dee3e4$export$8350ba437fdadadb.get(element)||{};if(k)return data[k];else return data};const $b17b0a5c39dee3e4$var$on=function(uid,container,events,selector,fn,options,once){if(typeof selector==="function"){once=options;options=fn;fn=selector;selector=undefined}(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("on uid",uid,["isDefined","notEmpty"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("on container",container,["isDefined","isEventTarget"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("on events",events,["isDefined","isString"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("on fn",fn,["isDefined","isFunction"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("on selector",selector,[["isEmpty","isString"]]);const k="on:"+uid+"-"+events+"-"+selector;if($b17b0a5c39dee3e4$var$getMetaData(container,k)){console.error("Error: Sargasso utils.on: duplicate event handler specification. %o %s",container,k);return}const handler=e=>{if(once)$b17b0a5c39dee3e4$var$off(uid,container,events,selector);if(!selector)fn(e);else Array.from(container.querySelectorAll(selector)).forEach((el=>{if(e.target===el||el.contains(e.target))fn(e,el)}))};const data={uid:uid,events:events,selector:selector||undefined,fn:handler,options:options||false};$b17b0a5c39dee3e4$var$setMetaData(container,k,data);events.split(/[\s,]+/).forEach((evt=>{container.addEventListener(evt.trim(),data.fn,data.options)}))};const $b17b0a5c39dee3e4$var$off=function(uid,container,events,selector){(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("off uid",uid,["isDefined","notEmpty"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("off container",container,["isDefined","isEventTarget"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("off events",events,["isDefined","isString"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("off selector",selector,[["isEmpty","isString"]]);const k="on:"+uid+"-"+events+"-"+selector;const data=$b17b0a5c39dee3e4$var$getMetaData(container,k);if(data){events.split(/[\s,]+/).forEach((evt=>{container.removeEventListener(evt.trim(),data.fn,data.options)}));$b17b0a5c39dee3e4$var$setMetaData(container,k)}};const $b17b0a5c39dee3e4$var$offAll=function(container){(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("offAll container",container,["isDefined","isEventTarget"]);const data=$b17b0a5c39dee3e4$export$8350ba437fdadadb.get(container)||{};const handlers=[];for(const k in data){if(Object.prototype.hasOwnProperty.call(data,k)){if(k.match(/^on:/))handlers.push(k)}}handlers.forEach((k=>{$b17b0a5c39dee3e4$var$off(data[k].uid,container,data[k].events,data[k].selector)}))};const $b17b0a5c39dee3e4$var$once=function(uid,container,events,selector,fn,options){if(typeof selector==="function"){options=fn;fn=selector;selector=undefined}$b17b0a5c39dee3e4$var$on(uid,container,events,selector,fn,options,true)};const $b17b0a5c39dee3e4$export$6f53260fffa88f1c={hasClass:$b17b0a5c39dee3e4$var$hasClass,addClass:$b17b0a5c39dee3e4$var$addClass,removeClass:$b17b0a5c39dee3e4$var$removeClass,isVisible:$b17b0a5c39dee3e4$var$isVisible,inViewPort:$b17b0a5c39dee3e4$var$inViewPort,setCSS:$b17b0a5c39dee3e4$var$css,setMetaData:$b17b0a5c39dee3e4$var$setMetaData,getMetaData:$b17b0a5c39dee3e4$var$getMetaData,on:$b17b0a5c39dee3e4$var$on,off:$b17b0a5c39dee3e4$var$off,once:$b17b0a5c39dee3e4$var$once,offAll:$b17b0a5c39dee3e4$var$offAll};
/**
	Shared event observers used by Sargasso classes.

	When these observers have subscribers they watch for events
	and notify the subscriber's specific event handler
	method when they occur.

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes

	Subscribers to these services must imlement handler methods
	EG. watchDOM, watchScroll, watchResize, watchOrientation
**/var $d840048267584034$exports={};var $374b147c67466a81$exports={};function $374b147c67466a81$var$isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}$374b147c67466a81$exports=$374b147c67466a81$var$isObject;var $b80ec2f88637d53c$exports={};var $b80ec2f88637d53c$var$now=function(){return $8101beff1446c944$exports.Date.now()};$b80ec2f88637d53c$exports=$b80ec2f88637d53c$var$now;var $655b9c4919f3b38e$exports={};var $e197af125161032b$exports={};var $e85b4eb7db201bc4$exports={};var $e85b4eb7db201bc4$var$reWhitespace=/\s/;function $e85b4eb7db201bc4$var$trimmedEndIndex(string){var index=string.length;while(index--&&$e85b4eb7db201bc4$var$reWhitespace.test(string.charAt(index)));return index}$e85b4eb7db201bc4$exports=$e85b4eb7db201bc4$var$trimmedEndIndex;var $e197af125161032b$var$reTrimStart=/^\s+/;function $e197af125161032b$var$baseTrim(string){return string?string.slice(0,$e85b4eb7db201bc4$exports(string)+1).replace($e197af125161032b$var$reTrimStart,""):string}$e197af125161032b$exports=$e197af125161032b$var$baseTrim;var $655b9c4919f3b38e$var$NAN=0/0;var $655b9c4919f3b38e$var$reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var $655b9c4919f3b38e$var$reIsBinary=/^0b[01]+$/i;var $655b9c4919f3b38e$var$reIsOctal=/^0o[0-7]+$/i;var $655b9c4919f3b38e$var$freeParseInt=parseInt;function $655b9c4919f3b38e$var$toNumber(value){if(typeof value=="number")return value;if($feaeb29a5a25786c$exports(value))return $655b9c4919f3b38e$var$NAN;if($374b147c67466a81$exports(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=$374b147c67466a81$exports(other)?other+"":other}if(typeof value!="string")return value===0?value:+value;value=$e197af125161032b$exports(value);var isBinary=$655b9c4919f3b38e$var$reIsBinary.test(value);return isBinary||$655b9c4919f3b38e$var$reIsOctal.test(value)?$655b9c4919f3b38e$var$freeParseInt(value.slice(2),isBinary?2:8):$655b9c4919f3b38e$var$reIsBadHex.test(value)?$655b9c4919f3b38e$var$NAN:+value}$655b9c4919f3b38e$exports=$655b9c4919f3b38e$var$toNumber;var $d840048267584034$var$FUNC_ERROR_TEXT="Expected a function";var $d840048267584034$var$nativeMax=Math.max,$d840048267584034$var$nativeMin=Math.min;function $d840048267584034$var$debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function")throw new TypeError($d840048267584034$var$FUNC_ERROR_TEXT);wait=$655b9c4919f3b38e$exports(wait)||0;if($374b147c67466a81$exports(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?$d840048267584034$var$nativeMax($655b9c4919f3b38e$exports(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?$d840048267584034$var$nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=$b80ec2f88637d53c$exports();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs)return invokeFunc(time);lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined)clearTimeout(timerId);lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge($b80ec2f88637d53c$exports())}function debounced(){var time=$b80ec2f88637d53c$exports(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing){clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined)timerId=setTimeout(timerExpired,wait);return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}$d840048267584034$exports=$d840048267584034$var$debounce;
/**
	ObservableObject

	Build an obserbable object

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/var $4dfc0303dc34d1bd$exports={};"use strict";var $4dfc0303dc34d1bd$var$R=typeof Reflect==="object"?Reflect:null;var $4dfc0303dc34d1bd$var$ReflectApply=$4dfc0303dc34d1bd$var$R&&typeof $4dfc0303dc34d1bd$var$R.apply==="function"?$4dfc0303dc34d1bd$var$R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};var $4dfc0303dc34d1bd$var$ReflectOwnKeys;if($4dfc0303dc34d1bd$var$R&&typeof $4dfc0303dc34d1bd$var$R.ownKeys==="function")$4dfc0303dc34d1bd$var$ReflectOwnKeys=$4dfc0303dc34d1bd$var$R.ownKeys;else if(Object.getOwnPropertySymbols)$4dfc0303dc34d1bd$var$ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))};else $4dfc0303dc34d1bd$var$ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)};function $4dfc0303dc34d1bd$var$ProcessEmitWarning(warning){if(console&&console.warn)console.warn(warning)}var $4dfc0303dc34d1bd$var$NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!==value};function $4dfc0303dc34d1bd$var$EventEmitter(){$4dfc0303dc34d1bd$var$EventEmitter.init.call(this)}$4dfc0303dc34d1bd$exports=$4dfc0303dc34d1bd$var$EventEmitter;$4dfc0303dc34d1bd$exports.once=$4dfc0303dc34d1bd$var$once;$4dfc0303dc34d1bd$var$EventEmitter.EventEmitter=$4dfc0303dc34d1bd$var$EventEmitter;$4dfc0303dc34d1bd$var$EventEmitter.prototype._events=undefined;$4dfc0303dc34d1bd$var$EventEmitter.prototype._eventsCount=0;$4dfc0303dc34d1bd$var$EventEmitter.prototype._maxListeners=undefined;var $4dfc0303dc34d1bd$var$defaultMaxListeners=10;function $4dfc0303dc34d1bd$var$checkListener(listener){if(typeof listener!=="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}Object.defineProperty($4dfc0303dc34d1bd$var$EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return $4dfc0303dc34d1bd$var$defaultMaxListeners},set:function(arg){if(typeof arg!=="number"||arg<0||$4dfc0303dc34d1bd$var$NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");$4dfc0303dc34d1bd$var$defaultMaxListeners=arg}});$4dfc0303dc34d1bd$var$EventEmitter.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};$4dfc0303dc34d1bd$var$EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||$4dfc0303dc34d1bd$var$NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");this._maxListeners=n;return this};function $4dfc0303dc34d1bd$var$_getMaxListeners(that){if(that._maxListeners===undefined)return $4dfc0303dc34d1bd$var$EventEmitter.defaultMaxListeners;return that._maxListeners}$4dfc0303dc34d1bd$var$EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $4dfc0303dc34d1bd$var$_getMaxListeners(this)};$4dfc0303dc34d1bd$var$EventEmitter.prototype.emit=function emit(type){var args=[];for(var i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=type==="error";var events=this._events;if(events!==undefined)doError=doError&&events.error===undefined;else if(!doError)return false;if(doError){var er;if(args.length>0)er=args[0];if(er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));err.context=er;throw err}var handler=events[type];if(handler===undefined)return false;if(typeof handler==="function")$4dfc0303dc34d1bd$var$ReflectApply(handler,this,args);else{var len=handler.length;var listeners=$4dfc0303dc34d1bd$var$arrayClone(handler,len);for(var i=0;i<len;++i)$4dfc0303dc34d1bd$var$ReflectApply(listeners[i],this,args)}return true};function $4dfc0303dc34d1bd$var$_addListener(target,type,listener,prepend){var m;var events;var existing;$4dfc0303dc34d1bd$var$checkListener(listener);events=target._events;if(events===undefined){events=target._events=Object.create(null);target._eventsCount=0}else{if(events.newListener!==undefined){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(existing===undefined){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function")existing=events[type]=prepend?[listener,existing]:[existing,listener];else if(prepend)existing.unshift(listener);else existing.push(listener);m=$4dfc0303dc34d1bd$var$_getMaxListeners(target);if(m>0&&existing.length>m&&!existing.warned){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;$4dfc0303dc34d1bd$var$ProcessEmitWarning(w)}}return target}$4dfc0303dc34d1bd$var$EventEmitter.prototype.addListener=function addListener(type,listener){return $4dfc0303dc34d1bd$var$_addListener(this,type,listener,false)};$4dfc0303dc34d1bd$var$EventEmitter.prototype.on=$4dfc0303dc34d1bd$var$EventEmitter.prototype.addListener;$4dfc0303dc34d1bd$var$EventEmitter.prototype.prependListener=function prependListener(type,listener){return $4dfc0303dc34d1bd$var$_addListener(this,type,listener,true)};function $4dfc0303dc34d1bd$var$onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function $4dfc0303dc34d1bd$var$_onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=$4dfc0303dc34d1bd$var$onceWrapper.bind(state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}$4dfc0303dc34d1bd$var$EventEmitter.prototype.once=function once(type,listener){$4dfc0303dc34d1bd$var$checkListener(listener);this.on(type,$4dfc0303dc34d1bd$var$_onceWrap(this,type,listener));return this};$4dfc0303dc34d1bd$var$EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){$4dfc0303dc34d1bd$var$checkListener(listener);this.prependListener(type,$4dfc0303dc34d1bd$var$_onceWrap(this,type,listener));return this};$4dfc0303dc34d1bd$var$EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;$4dfc0303dc34d1bd$var$checkListener(listener);events=this._events;if(events===undefined)return this;list=events[type];if(list===undefined)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=Object.create(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}if(position<0)return this;if(position===0)list.shift();else $4dfc0303dc34d1bd$var$spliceOne(list,position);if(list.length===1)events[type]=list[0];if(events.removeListener!==undefined)this.emit("removeListener",type,originalListener||listener)}return this};$4dfc0303dc34d1bd$var$EventEmitter.prototype.off=$4dfc0303dc34d1bd$var$EventEmitter.prototype.removeListener;$4dfc0303dc34d1bd$var$EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(events===undefined)return this;if(events.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(events[type]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete events[type]}return this}if(arguments.length===0){var keys=Object.keys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function")this.removeListener(type,listeners);else if(listeners!==undefined)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this};function $4dfc0303dc34d1bd$var$_listeners(target,type,unwrap){var events=target._events;if(events===undefined)return[];var evlistener=events[type];if(evlistener===undefined)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?$4dfc0303dc34d1bd$var$unwrapListeners(evlistener):$4dfc0303dc34d1bd$var$arrayClone(evlistener,evlistener.length)}$4dfc0303dc34d1bd$var$EventEmitter.prototype.listeners=function listeners(type){return $4dfc0303dc34d1bd$var$_listeners(this,type,true)};$4dfc0303dc34d1bd$var$EventEmitter.prototype.rawListeners=function rawListeners(type){return $4dfc0303dc34d1bd$var$_listeners(this,type,false)};$4dfc0303dc34d1bd$var$EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function")return emitter.listenerCount(type);else return $4dfc0303dc34d1bd$var$listenerCount.call(emitter,type)};$4dfc0303dc34d1bd$var$EventEmitter.prototype.listenerCount=$4dfc0303dc34d1bd$var$listenerCount;function $4dfc0303dc34d1bd$var$listenerCount(type){var events=this._events;if(events!==undefined){var evlistener=events[type];if(typeof evlistener==="function")return 1;else if(evlistener!==undefined)return evlistener.length}return 0}$4dfc0303dc34d1bd$var$EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?$4dfc0303dc34d1bd$var$ReflectOwnKeys(this._events):[]};function $4dfc0303dc34d1bd$var$arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i)copy[i]=arr[i];return copy}function $4dfc0303dc34d1bd$var$spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}function $4dfc0303dc34d1bd$var$unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}function $4dfc0303dc34d1bd$var$once(emitter,name){return new Promise((function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver);reject(err)}function resolver(){if(typeof emitter.removeListener==="function")emitter.removeListener("error",errorListener);resolve([].slice.call(arguments))}$4dfc0303dc34d1bd$var$eventTargetAgnosticAddListener(emitter,name,resolver,{once:true});if(name!=="error")$4dfc0303dc34d1bd$var$addErrorHandlerIfEventEmitter(emitter,errorListener,{once:true})}))}function $4dfc0303dc34d1bd$var$addErrorHandlerIfEventEmitter(emitter,handler,flags){if(typeof emitter.on==="function")$4dfc0303dc34d1bd$var$eventTargetAgnosticAddListener(emitter,"error",handler,flags)}function $4dfc0303dc34d1bd$var$eventTargetAgnosticAddListener(emitter,name,listener,flags){if(typeof emitter.on==="function"){if(flags.once)emitter.once(name,listener);else emitter.on(name,listener)}else if(typeof emitter.addEventListener==="function")emitter.addEventListener(name,(function wrapListener(arg){if(flags.once)emitter.removeEventListener(name,wrapListener);listener(arg)}));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter)}var $abb58fc96c93bc30$exports={};var $abb58fc96c93bc30$var$ObservableSlim=function(){var paths=[];var observables=[];var targets=[];var targetsProxy=[];var dupProxy=null;var _getProperty=function(obj,path){return path.split(".").reduce((function(prev,curr){return prev?prev[curr]:undefined}),obj||self)};var _create=function(target,domDelay,originalObservable,originalPath){var observable=originalObservable||null;var path=originalPath||[{target:target,property:""}];paths.push(path);if(target instanceof Array){if(!target.hasOwnProperty("__length"))Object.defineProperty(target,"__length",{enumerable:false,value:target.length,writable:true});else target.__length=target.length}var changes=[];var _getPath=function(target,property,jsonPointer){var fullPath="";var lastTarget=null;for(var i=0;i<path.length;i++){if(lastTarget instanceof Array&&!isNaN(path[i].property))path[i].property=lastTarget.indexOf(path[i].target);fullPath=fullPath+"."+path[i].property;lastTarget=path[i].target}fullPath=fullPath+"."+property;fullPath=fullPath.substring(2);if(jsonPointer===true)fullPath="/"+fullPath.replace(/\./g,"/");return fullPath};var _notifyObservers=function(numChanges){if(observable.paused===true)return;var domDelayIsNumber=typeof domDelay==="number";if(domDelayIsNumber||domDelay===true)setTimeout((function(){if(numChanges===changes.length){var changesCopy=changes.slice(0);changes=[];for(var i=0;i<observable.observers.length;i++)observable.observers[i](changesCopy)}}),domDelayIsNumber&&domDelay>0?domDelay:10);else{var changesCopy=changes.slice(0);changes=[];for(var i=0;i<observable.observers.length;i++)observable.observers[i](changesCopy)}};var handler={get:function(target,property){if(property==="__getTarget")return target;else if(property==="__isProxy")return true;else if(property==="__getParent")return function(i){if(typeof i==="undefined")var i=1;var parentPath=_getPath(target,"__getParent").split(".");parentPath.splice(-(i+1),i+1);return _getProperty(observable.parentProxy,parentPath.join("."))};else if(property==="__getPath"){var parentPath=_getPath(target,"__getParent");return parentPath.slice(0,-12)}var targetProp=target[property];if(target instanceof Date&&targetProp instanceof Function&&targetProp!==null)return targetProp.bind(target);if(targetProp instanceof Object&&targetProp!==null&&target.hasOwnProperty(property)){if(targetProp.__isProxy===true)targetProp=targetProp.__getTarget;if(targetProp.__targetPosition>-1&&targets[targetProp.__targetPosition]!==null){var ttp=targetsProxy[targetProp.__targetPosition];for(var i=0,l=ttp.length;i<l;i++){if(observable===ttp[i].observable)return ttp[i].proxy}}var newPath=path.slice(0);newPath.push({target:targetProp,property:property});return _create(targetProp,domDelay,observable,newPath)}else return targetProp},deleteProperty:function(target,property){var originalChange=true;if(dupProxy===proxy){originalChange=false;dupProxy=null}var previousValue=Object.assign({},target);changes.push({type:"delete",target:target,property:property,newValue:null,previousValue:previousValue[property],currentPath:_getPath(target,property),jsonPointer:_getPath(target,property,true),proxy:proxy});if(originalChange===true){if(!observable.changesPaused)delete target[property];for(var a=0,l=targets.length;a<l;a++)if(target===targets[a])break;var currentTargetProxy=targetsProxy[a]||[];var b=currentTargetProxy.length;while(b--)if(currentTargetProxy[b].proxy!==proxy){dupProxy=currentTargetProxy[b].proxy;delete currentTargetProxy[b].proxy[property]}}_notifyObservers(changes.length);return true},set:function(target,property,value,receiver){if(value&&value.__isProxy)value=value.__getTarget;var originalChange=true;if(dupProxy===proxy){originalChange=false;dupProxy=null}var targetProp=target[property];if(targetProp!==value||originalChange===false||property==="length"&&target instanceof Array&&target.__length!==value){var foundObservable=true;var typeOfTargetProp=typeof targetProp;var type="update";if(typeOfTargetProp==="undefined")type="add";changes.push({type:type,target:target,property:property,newValue:value,previousValue:receiver[property],currentPath:_getPath(target,property),jsonPointer:_getPath(target,property,true),proxy:proxy});if(property==="length"&&target instanceof Array&&target.__length!==value){changes[changes.length-1].previousValue=target.__length;target.__length=value}if(originalChange===true){if(!observable.changesPaused)target[property]=value;foundObservable=false;var targetPosition=target.__targetPosition;var z=targetsProxy[targetPosition].length;while(z--){if(observable===targetsProxy[targetPosition][z].observable){if(targets[targetsProxy[targetPosition][z].observable.parentTarget.__targetPosition]!==null){foundObservable=true;break}}}if(foundObservable){var currentTargetProxy=targetsProxy[targetPosition];for(var b=0,l=currentTargetProxy.length;b<l;b++)if(currentTargetProxy[b].proxy!==proxy){dupProxy=currentTargetProxy[b].proxy;currentTargetProxy[b].proxy[property]=value}setTimeout((function(){if(typeOfTargetProp==="object"&&targetProp!==null){var keys=Object.keys(target);for(var i=0,l=keys.length;i<l;i++){if(target[keys[i]]===targetProp)return}var stillExists=false;(function iterate(target){var keys=Object.keys(target);for(var i=0,l=keys.length;i<l;i++){var property=keys[i];var nestedTarget=target[property];if(nestedTarget instanceof Object&&nestedTarget!==null)iterate(nestedTarget);if(nestedTarget===targetProp){stillExists=true;return}}})(target);if(stillExists===true)return;(function iterate(obj){var keys=Object.keys(obj);for(var i=0,l=keys.length;i<l;i++){var objProp=obj[keys[i]];if(objProp instanceof Object&&objProp!==null)iterate(objProp)}var c=-1;for(var i=0,l=targets.length;i<l;i++)if(obj===targets[i]){c=i;break}if(c>-1){var currentTargetProxy=targetsProxy[c];var d=currentTargetProxy.length;while(d--)if(observable===currentTargetProxy[d].observable){currentTargetProxy.splice(d,1);break}if(currentTargetProxy.length==0)targets[c]=null}})(targetProp)}}),1e4)}}if(foundObservable)_notifyObservers(changes.length)}return true}};var __targetPosition=target.__targetPosition;if(!(__targetPosition>-1))Object.defineProperty(target,"__targetPosition",{value:targets.length,writable:false,enumerable:false,configurable:false});var proxy=new Proxy(target,handler);if(observable===null){observable={parentTarget:target,domDelay:domDelay,parentProxy:proxy,observers:[],paused:false,path:path,changesPaused:false};observables.push(observable)}var proxyItem={target:target,proxy:proxy,observable:observable};if(__targetPosition>-1){if(targets[__targetPosition]===null)targets[__targetPosition]=target;targetsProxy[__targetPosition].push(proxyItem)}else{targets.push(target);targetsProxy.push([proxyItem])}return proxy};return{create:function(target,domDelay,observer){if(target.__isProxy===true)var target=target.__getTarget;var proxy=_create(target,domDelay);if(typeof observer==="function")this.observe(proxy,observer);(function iterate(proxy){var target=proxy.__getTarget;var keys=Object.keys(target);for(var i=0,l=keys.length;i<l;i++){var property=keys[i];if(target[property]instanceof Object&&target[property]!==null)iterate(proxy[property])}})(proxy);return proxy},observe:function(proxy,observer){var i=observables.length;while(i--)if(observables[i].parentProxy===proxy){observables[i].observers.push(observer);break}},pause:function(proxy){var i=observables.length;var foundMatch=false;while(i--)if(observables[i].parentProxy===proxy){observables[i].paused=true;foundMatch=true;break}if(foundMatch==false)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(proxy){var i=observables.length;var foundMatch=false;while(i--)if(observables[i].parentProxy===proxy){observables[i].paused=false;foundMatch=true;break}if(foundMatch==false)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(proxy){var i=observables.length;var foundMatch=false;while(i--)if(observables[i].parentProxy===proxy){observables[i].changesPaused=true;foundMatch=true;break}if(foundMatch==false)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(proxy){var i=observables.length;var foundMatch=false;while(i--)if(observables[i].parentProxy===proxy){observables[i].changesPaused=false;foundMatch=true;break}if(foundMatch==false)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(proxy){var matchedObservable=null;var foundMatch=false;var c=observables.length;while(c--)if(observables[c].parentProxy===proxy){matchedObservable=observables[c];foundMatch=true;break}var a=targetsProxy.length;while(a--){var b=targetsProxy[a].length;while(b--)if(targetsProxy[a][b].observable===matchedObservable){targetsProxy[a].splice(b,1);if(targetsProxy[a].length===0)targets[a]=null}}if(foundMatch===true)observables.splice(c,1)}}}();try{$abb58fc96c93bc30$exports=$abb58fc96c93bc30$var$ObservableSlim}catch(err){}const $05b7f40ae55d062a$var$registeredObservables={};const $05b7f40ae55d062a$export$7ec259ba0528fb23=id=>$05b7f40ae55d062a$var$registeredObservables[id];class $05b7f40ae55d062a$export$b176171395436676 extends(0,$parcel$interopDefault($4dfc0303dc34d1bd$exports)){constructor(id,data={},options={}){super();this.id=id;if($05b7f40ae55d062a$var$registeredObservables[this.id])throw new Error("ObservableObject "+id+" already exists.");this.bound={};this.unproxied=data;this.data=(0,$parcel$interopDefault($abb58fc96c93bc30$exports)).create(data,false,(changes=>{this.sync(changes,this.getSource())}));this.options=options;$05b7f40ae55d062a$var$registeredObservables[this.id]=this}getSource(){return this.id}destroy(){(0,$parcel$interopDefault($abb58fc96c93bc30$exports)).pause(this.data);delete $05b7f40ae55d062a$var$registeredObservables[this.id];delete this.data;Object.keys(this.bound).forEach((prop=>{Object.keys(this.bound[prop]).forEach((id=>{this.unbind(id,prop)}))}));(0,$parcel$interopDefault($abb58fc96c93bc30$exports)).remove(this.data)}getObservableData(){return this.data}bind(id,fn,property="*"){if(property==="__proto__")throw new Error("Invalid property name");if(!this.bound[property])this.bound[property]={};this.bound[property][id]=fn;fn(this.id,"connect")}unbind(id,property="*"){this.bound[property][id](this.id,"disconnect");if(this.bound[property]&&this.bound[property][id])delete this.bound[property][id]}sync(changes){for(const change of changes){const type=change.type;const path=change.currentPath;const newValue=change.newValue;const previousValue=change.previousValue;const channels=[];for(const p in this.bound)if(p==="*")channels.push(p);else{const re=new RegExp("^"+p.replace(".","\\."));if(path.match(re))channels.push(p)}for(const channel of channels)for(const subscriber in this.bound[channel])this.bound[channel][subscriber](this.id,type,path,newValue,previousValue)}}}let $d026517949359551$export$77e1d49fdb880d27;let $d026517949359551$export$c7320459fd5267c0;let $d026517949359551$export$497098c8185e6e33;let $d026517949359551$export$296acd8d6f329fa3;let $d026517949359551$export$fa28dfcc49831a91;let $d026517949359551$export$788f7857dc8c77f5;class $d026517949359551$var$ObserverSubscriptionManager{constructor(options){this.options=options;this.observers=[];this.pendingAnimationFrame=undefined;this.frameQueue=[];this.sleeping=true}subscribe(observer){if(!this.observers.length&&this.sleeping)this.wakeup();this.observers.push(observer)}unSubscribe(observer){if(this.observers.indexOf(observer)!==-1)this.observers.splice(this.observers.indexOf(observer),1);if(!this.observers.length)this.sleep()}sleep(){this.sleeping=true}wakeup(){this.sleeping=false}notifyObservers(event,params){for(let i=0;i<this.observers.length;i++)if(this.observers[i][event])this.observers[i][event].apply(this.observers[i],params||[])}flushQueue(){if(this.pendingAnimationFrame){cancelAnimationFrame(this.pendingAnimationFrame);this.pendingAnimationFrame=undefined}this.frameQueue=[]}queueFrame(frame){this.frameQueue.push(frame.bind(this));if(!this.pendingAnimationFrame)this.pendingAnimationFrame=requestAnimationFrame((()=>{this.processQueue()}))}processQueue(){this.pendingAnimationFrame=undefined;const toProcess=this.frameQueue.slice(0);this.frameQueue=[];for(let i=0;i<toProcess.length;i++)toProcess[i]()}}class $d026517949359551$export$d36264ac4e7cee7d extends $d026517949359551$var$ObserverSubscriptionManager{constructor(options={}){super(options);this.mutationHandler=(0,$parcel$interopDefault($d840048267584034$exports))(((mutations,observer)=>{this.observeDOM(this.options.shadowDOM||document.body)}),25,{maxWait:100});this.mutationObserver=new MutationObserver(this.mutationHandler,false)}subscribe(observer){super.subscribe(observer);observer.watchDOM(this.options.shadowDOM||document.body)}wakeup(){super.wakeup();this.mutationObserver.observe(this.options.shadowDOM||document.body,{childList:true,subtree:true})}sleep(){super.sleep();this.mutationObserver.disconnect()}observeDOM(root){this.notifyObservers("watchDOM",[root||this.options.shadowDOM||document.body])}}class $d026517949359551$var$ScrollWatcher extends $d026517949359551$var$ObserverSubscriptionManager{constructor(options={}){super(options);this.scrollElement=this.options.scrollElement||window;this.lastscroll=0;this.scrolling=false}trigger(){if(!this.scrolling)this.scrollLoop()}scrollLoop(){if(this.lastscroll!==this.scrollTop()){this.scrolling=true;this.lastscroll=this.scrollTop();this.watchScroll();const frame=()=>{this.scrollLoop()};this.queueFrame(frame)}else this.scrolling=false}setOptions(options={}){this.sleep();this.scrollElement=options.scrollElement||window;this.wakeup()}subscribe(observer){super.subscribe(observer);observer.watchScroll()}wakeup(){super.wakeup();(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).on("theScrollWatcher",this.scrollElement,"scroll",(()=>{this.trigger()}))}sleep(){super.sleep();(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).off("theScrollWatcher",this.scrollElement,"scroll")}inViewPort(element){return(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).inViewPort(element,this.scrollElement)}watchScroll(){this.notifyObservers("watchScroll")}scrollTop(newTop){if(this.scrollElement===window){if(newTop!==undefined)window.scrollTo(0,newTop);else return window.pageYOffset}else{if(newTop!==undefined)this.scrollElement.scrollTop=newTop;else return this.scrollElement.scrollTop}}}class $d026517949359551$var$ResizeWatcher extends $d026517949359551$var$ObserverSubscriptionManager{constructor(options){super(options);this.debounce=(0,$parcel$interopDefault($d840048267584034$exports))((()=>{this.watchResize()}),250)}subscribe(observer){super.subscribe(observer);observer.watchResize()}wakeup(){super.wakeup();window.addEventListener("resize",this.debounce,false)}sleep(){super.sleep();window.removeEventListener("resize",this.debounce)}watchResize(){this.notifyObservers("watchResize")}}class $d026517949359551$var$OrientationWatcher extends $d026517949359551$var$ObserverSubscriptionManager{constructor(options){super(options);if("onorientationchange"in window)(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).addClass(document.body,"have-orientation");else(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).addClass(document.body,"no-orientation");this.debounce=(0,$parcel$interopDefault($d840048267584034$exports))((()=>{this.watchOrientation()}),250)}subscribe(observer){super.subscribe(observer);observer.watchOrientation()}wakeup(){super.wakeup();if("onorientationchange"in window)window.addEventListener("orientationchange",this.debounce,false)}sleep(){super.sleep();if("onorientationchange"in window)window.removeEventListener("orientationchange",this.debounce)}watchOrientation(){this.notifyObservers("watchOrientation")}}class $d026517949359551$var$WorkerWatcher extends $d026517949359551$var$ObserverSubscriptionManager{constructor(options){super(options);this.workers={}}registerWorker(id,codeOrURL){if(!this.workers[id]){let blobURL=codeOrURL;let revoke=false;if(!codeOrURL.match(/^(http|\/)/i)){const blob=new Blob([codeOrURL],{type:"text/javascript"});blobURL=URL.createObjectURL(blob);revoke=true}this.workers[id]={worker:new Worker(blobURL),observers:[]};if(revoke)URL.revokeObjectURL(blobURL);this.workers[id].worker.onmessage=e=>{this.workerMessage(id,e)}}return this.workers[id].worker}subscribe(observer,id){if(!this.workers[id])throw new Error("worker "+id+" does not exist");const workerObservers=this.workers[id].observers;workerObservers.push(observer);super.subscribe(observer)}unSubscribe(observer,id){if(!this.workers[id])throw new Error("worker "+id+" does not exist");const workerObservers=this.workers[id].observers;if(workerObservers.indexOf(observer)!==-1)workerObservers.splice(workerObservers.indexOf(observer),1);if(!workerObservers.length){this.workers[id].worker.terminate();delete this.workers[id]}super.unSubscribe(observer)}workerMessage(id,e){const workerObservers=this.workers[id].observers;workerObservers.forEach((observer=>{if(observer.workerMessage)observer.workerMessage(id,e)}))}wakeup(){super.wakeup()}sleep(){super.sleep()}}class $d026517949359551$var$ObservableObjectWatcher extends $d026517949359551$var$ObserverSubscriptionManager{constructor(options){super(options);this.registeredObservableObjects={}}getObservable(id){return this.registeredObservableObjects[id]?this.registeredObservableObjects[id].observable:undefined}observableStart(id,data){const foundObservable=(0,$05b7f40ae55d062a$export$7ec259ba0528fb23)(id);if(foundObservable&&data!==undefined)throw new Error("ObservableObject "+id+" already exists, can't build.");if(!this.registeredObservableObjects[id]){if(foundObservable)this.registeredObservableObjects[id]={id:id,observable:foundObservable,observers:[],managed:false};else this.registeredObservableObjects[id]={id:id,observable:new(0,$05b7f40ae55d062a$export$b176171395436676)(id,data),observers:[],managed:true};this.registeredObservableObjects[id].observable.bind(this.constructor.name,this.notify.bind(this))}return this.registeredObservableObjects[id].observable}observableDestroy(id){if(!this.registeredObservableObjects[id])throw new Error("ObservableObject observableDestroy "+id+" does not exist");this.registeredObservableObjects[id].observable.unbind(this.constructor.name);this.registeredObservableObjects[id].observable.destroy();delete this.registeredObservableObjects[id]}subscribe(observer,id,data){if(!this.registeredObservableObjects[id])this.observableStart(id,data);this.registeredObservableObjects[id].observers.push(observer);super.subscribe(observer)}unSubscribe(observer,id){if(!this.registeredObservableObjects[id])throw new Error("ObservableObject unSubscribe "+id+" does not exist");const observers=this.registeredObservableObjects[id].observers;if(observers.indexOf(observer)!==-1)observers.splice(observers.indexOf(observer),1);if(!observers.length&&this.registeredObservableObjects[id].managed)this.observableDestroy(id);super.unSubscribe(observer)}notify(id,type,path,newValue,previousValue){if(!this.registeredObservableObjects[id])throw new Error("ObservableObject notify "+id+" does not exist");const observers=this.registeredObservableObjects[id].observers;observers.forEach((observer=>{if(observer.observableChanged)observer.observableChanged(id,type,path,newValue,previousValue)}))}}$d026517949359551$export$77e1d49fdb880d27=new $d026517949359551$export$d36264ac4e7cee7d;$d026517949359551$export$c7320459fd5267c0=new $d026517949359551$var$ScrollWatcher;$d026517949359551$export$497098c8185e6e33=new $d026517949359551$var$ResizeWatcher;$d026517949359551$export$296acd8d6f329fa3=new $d026517949359551$var$OrientationWatcher;$d026517949359551$export$fa28dfcc49831a91=new $d026517949359551$var$WorkerWatcher;$d026517949359551$export$788f7857dc8c77f5=new $d026517949359551$var$ObservableObjectWatcher;var $b0f76f3730edf785$exports={};var $b0f76f3730edf785$var$kebabCase=$4df42f2cb76a6bb7$exports((function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}));$b0f76f3730edf785$exports=$b0f76f3730edf785$var$kebabCase;let $cc2c9f710b8f1d9a$var$unique=0;const $cc2c9f710b8f1d9a$export$85e745b96b6487a7=[];const $cc2c9f710b8f1d9a$var$supportsCustomElements="customElements"in window;const $cc2c9f710b8f1d9a$export$ac297e650eeb1e78={};const $cc2c9f710b8f1d9a$export$22044c20eef36040=(className,object)=>{if($cc2c9f710b8f1d9a$export$ac297e650eeb1e78[className])throw new Error("Sargasso class "+className+" is already registered.");$cc2c9f710b8f1d9a$export$ac297e650eeb1e78[className]=object;if($cc2c9f710b8f1d9a$var$supportsCustomElements){const customElementClassFactory=`\n\t\t\treturn class ${className}Element extends HTMLElement {\n\t\t\t\tconstructor(element, options = {}) {\n\t\t\t\t\tsuper()\n\t\t\t\t\tthis.helperClass= '${className}'\n\t\t\t\t\tthis.helpers = []\n\t\t\t\t}\n\n\t\t\t\tconnectedCallback () {\n\t\t\t\t\tthis.helpers.push(new registeredClasses[this.helperClass](this,{isCustomElement:true}))\n\t\t\t\t\tif (this.hasAttributes()) {\n\t\t\t\t\t\tfor(let i = 0; i < this.attributes.length; i++) {\n\t\t\t\t\t\t\tif(this.attributes[i].name.match(/^sargasso-/)) {\n\t\t\t\t\t\t\t\tlet classname = this.attributes[i].name.replace(/^sargasso-/,'').split('-').map(word=> word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join('')\n\t\t\t\t\t\t\t\tif(!registeredClasses[classname]) {\n\t\t\t\t\t\t\t\t\tconsole.log('instantiate by attribute ' + this.attributes[i].name + ' > ' + classname + ' is not a sargasso class')\n\t\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.helpers.push(new registeredClasses[classname](this,{isCustomElement:true}))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.helpers.forEach((helper) => {\n\t\t\t\t\t\thelper.start()\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tdisconnectedCallback () {\n\t\t\t\t\tthis.helpers.forEach((helper) => {\n\t\t\t\t\t\thelper.sleep()\n\t\t\t\t\t\thelper.destroy()\n\t\t\t\t \t})\n\t\t\t\t\tthis.helpers = [] // nuke the reference for trash collection\n\t\t\t\t}\n\t\t\t}`;const fn=new Function("registeredClasses",customElementClassFactory)($cc2c9f710b8f1d9a$export$ac297e650eeb1e78);const options=window.sargassoOptions||{};const prefix=typeof options.customElementPrefix!=="undefined"?options.customElementPrefix:"sargasso-";customElements.define(prefix+(0,$parcel$interopDefault($b0f76f3730edf785$exports))(className),fn)}};const $cc2c9f710b8f1d9a$var$eventNames=["DOMChanged","didScroll","didResize","didBreakpoint","enterViewport","exitViewport","enterFullscreen","exitFullscreen","newPage","elementEvent","workerOnMessage","observableChanged"];class $cc2c9f710b8f1d9a$export$d7944a94c1afb262{constructor(element,options={}){(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("Sargasso constructor element",element,["isDefined","isElement"]);(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("Sargasso constructor options",options,["isDefined",["isObject"]]);this.uid=++$cc2c9f710b8f1d9a$var$unique;this.element=element;if(options.shadowDOM){this._shadowDOM=element.attachShadow({mode:"open"});this._shadowRoot=document.createElement("div");this._shadowDOM.append(this._shadowRoot);this._hostElement=this.element;this.element=this._shadowRoot}this.options=options;this._pendingAnimationFrame=undefined;this._frameQueue=[];this._isInViewport=false;this._workers={};this._observables={};this._template=undefined;this._templateArgs={};this._started=false;this.render=(0,$parcel$interopDefault($d840048267584034$exports))((()=>{this._render()}),100,{maxWait:250})}start(){const registeredResponsiveControllers=this.getMetaData("registeredResponsiveControllers")||[];registeredResponsiveControllers.push(this);this.setMetaData("registeredResponsiveControllers",registeredResponsiveControllers);this.setMetaData(this.constructor.name,this);$cc2c9f710b8f1d9a$export$85e745b96b6487a7.push(this);if(this._shadowDOM){if(!this._shadowDOMWatcher)this._shadowDOMWatcher=new(0,$d026517949359551$export$d36264ac4e7cee7d)({shadowDOM:this._shadowRoot});this._shadowDOMWatcher.subscribe(this)}if(this.options.watchDOM)(0,$d026517949359551$export$77e1d49fdb880d27).subscribe(this);if(this.options.watchScroll||this.options.watchViewport)(0,$d026517949359551$export$c7320459fd5267c0).subscribe(this);if(this.options.watchResize||this.options.watchViewport)(0,$d026517949359551$export$497098c8185e6e33).subscribe(this);if(this.options.watchOrientation||this.options.watchViewport)(0,$d026517949359551$export$296acd8d6f329fa3).subscribe(this);if(this.options.watchAttributes)this.watchAttributes();this.elementListener=e=>{if(e.detail&&e.detail.sargassoEvent&&$cc2c9f710b8f1d9a$var$eventNames.indexOf(e.detail.sargassoEvent)!==-1)this[e.detail.sargassoEvent].apply(this,e.detail.sargassoEventOptions||[]);else this.elementEvent(e)};this.element.addEventListener("sargasso",this.elementListener);this._started=true}sleep(){if(this._shadowDOM)this._shadowDOMWatcher.unSubscribe(this);if(this.options.watchDOM)(0,$d026517949359551$export$77e1d49fdb880d27).unSubscribe(this);if(this.options.watchScroll||this.options.watchViewport)(0,$d026517949359551$export$c7320459fd5267c0).unSubscribe(this);if(this.options.watchResize||this.options.watchViewport)(0,$d026517949359551$export$497098c8185e6e33).unSubscribe(this);if(this.options.watchOrientation||this.options.watchViewport)(0,$d026517949359551$export$296acd8d6f329fa3).unSubscribe(this);if(this.attributeObserver)this.attributeObserver.disconnect();this.element.removeEventListener("sargasso",this.elementListener);(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).offAll(this.element);this._started=false}watchAttributes(){this.attributeObserver=new MutationObserver((mutations=>{mutations.forEach((mutation=>{if(mutation.type==="attributes")this.attributeChanged(mutation.attributeName)}))}));this.attributeObserver.observe(this._hostElement||this.element,{attributes:true})}DOMChanged(root){}didScroll(){}didResize(){}didBreakpoint(){}enterViewport(){}exitViewport(){}enterFullscreen(){}exitFullscreen(){}newPage(oldPath,newPath){}elementEvent(e){}workerOnMessage(id,data){}observableChanged(id,type,path,newValue,previousValue){this.render()}attributeChanged(attribute){}setMetaData(k,v){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).setMetaData(this.element,k,v)}getMetaData(k){return(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).getMetaData(this.element,k)}on(evt,selector,fn,options){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).on(this.constructor.name+"-"+this.uid,this.element,evt,selector,fn,options)}off(evt,selector){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).off(this.constructor.name+"-"+this.uid,this.element,evt,selector)}once(evt,selector,fn,options){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).once(this.constructor.name+"-"+this.uid,this.element,evt,selector,fn,options)}notifyAll(event,params){if($cc2c9f710b8f1d9a$var$eventNames.indexOf(event)===-1)throw new Error("invalid event name "+event);for(let i=0;i<$cc2c9f710b8f1d9a$export$85e745b96b6487a7.length;i++){const peer=$cc2c9f710b8f1d9a$export$85e745b96b6487a7[i];if(peer!==this&&peer[event])peer[event].apply(peer,params)}}notifyElement(element,event,params){if($cc2c9f710b8f1d9a$var$eventNames.indexOf(event)===-1)throw new Error("invalid event name "+event);const registeredResponsiveControllers=this.getMetaData("registeredResponsiveControllers");if(registeredResponsiveControllers)for(let i=0;i<registeredResponsiveControllers.length;i++){const peer=registeredResponsiveControllers[i];if(peer!==this&&peer[event])peer[event].apply(peer,params)}}queueFrame(frame){this._frameQueue.push(frame.bind(this));if(!this._pendingAnimationFrame)this._pendingAnimationFrame=requestAnimationFrame((()=>{this._processQueue()}))}wantFullscreen(want){if(want)this.enterFullscreen();else this.exitFullscreen()}hasClass(cssClass){return(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).hasClass(this.element,cssClass)}addClass(cssClasses){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).addClass(this.element,cssClasses)}removeClass(cssClasses){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).removeClass(this.element,cssClasses)}setCSS(cssObject){(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).setCSS(this.element,cssObject)}isVisible(){return(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).isVisible(this.element)}workerStart(id,codeOrURL){this._workers[id]=(0,$d026517949359551$export$fa28dfcc49831a91).registerWorker(id,codeOrURL);(0,$d026517949359551$export$fa28dfcc49831a91).subscribe(this,id);return this._workers[id]}workerPostMessage(id,message){if(!message.uid)message.uid=this.uid;if(this._workers[id])this._workers[id].postMessage(message)}getObservable(id){return this._observables[id]}getObservableData(id){return this._observables[id].data}observableStart(id,data){(0,$d026517949359551$export$788f7857dc8c77f5).subscribe(this,id,data);this._observables[id]=(0,$d026517949359551$export$788f7857dc8c77f5).getObservable(id);return this._observables[id]}observableStop(id){if(this._observables[id]){(0,$d026517949359551$export$788f7857dc8c77f5).unSubscribe(this,id);delete this._observables[id]}}observableStopAll(){for(const id in this._observables)this.observableStop(id)}setTemplate(template){this._template=template}setRenderer(renderer){this.renderer=renderer}setTemplateArgs(args={}){this._templateArgs=args;this.render()}getTemplateArgs(){const args=this._templateArgs||[];return JSON.parse(JSON.stringify(args))}_render(){if(this._template&&this.renderer)this.renderer(this._template.apply(this,this.getTemplateArgs()),this.element)}_flushQueue(){if(this._pendingAnimationFrame){cancelAnimationFrame(this._pendingAnimationFrame);this._pendingAnimationFrame=undefined}this._frameQueue=[]}_processQueue(){this._pendingAnimationFrame=undefined;const toProcess=this._frameQueue.slice(0);this._frameQueue=[];for(let i=0;i<toProcess.length;i++)toProcess[i]()}_stopWorker(id){if(this._workers[id]){(0,$d026517949359551$export$fa28dfcc49831a91).unSubscribe(this,id);delete this._workers[id]}}_stopAllWorkers(){for(const worker in this._workers)this._stopWorker(worker)}destroy(){this._stopAllWorkers();this.observableStopAll();this._flushQueue();if(this._started)this.sleep();const registeredResponsiveControllers=this.getMetaData("registeredResponsiveControllers");if(registeredResponsiveControllers){if(registeredResponsiveControllers.indexOf(this)!==-1){registeredResponsiveControllers.splice(registeredResponsiveControllers.indexOf(this),1);this.setMetaData("registeredResponsiveControllers",registeredResponsiveControllers)}}this.setMetaData(this.constructor.name,null);this.element=null;if($cc2c9f710b8f1d9a$export$85e745b96b6487a7.indexOf(this)!==-1)$cc2c9f710b8f1d9a$export$85e745b96b6487a7.splice($cc2c9f710b8f1d9a$export$85e745b96b6487a7.indexOf(this),1)}watchDOM(root){if(root===this._shadowRoot)(0,$d026517949359551$export$77e1d49fdb880d27).observeDOM(this._shadowRoot);else this.DOMChanged(root)}watchScroll(){if(this.options.watchViewport)this.inViewport();this.didScroll()}watchResize(){if(this.options.watchViewport)this.inViewport();this.didResize()}watchOrientation(){if(window.orientation&&(window.orientation===90||window.orientation===-90))this.wantFullscreen(true);else this.wantFullscreen(false)}inViewport(){if((0,$d026517949359551$export$c7320459fd5267c0).inViewPort(this.element)){if(!this._isInViewport){this.enterViewport();this._isInViewport=true}}else if(this._isInViewport){this.exitViewport();this._isInViewport=false}}workerMessage(id,e){if(e.data.uid===this.uid)this.workerOnMessage(id,e.data)}nativeRequestFullScreen(){if(document.fullscreenElement){if(document.fullscreenElement===this.element)return;document.exitFullscreen()}this.element.requestFullscreen()}nativeExitFullScreen(){if(document.fullscreenElement&&document.fullscreenElement===this.element)document.exitFullscreen()}}$cc2c9f710b8f1d9a$export$22044c20eef36040("Sargasso",$cc2c9f710b8f1d9a$export$d7944a94c1afb262);
/**
	SargassoSupervisor

	Sargasso class which watches the document for new content and instantiates
	Sargasso classes liested in element's data-sargasso-class attribute.
	Once instantiated, Sargasso objects are trash collected when element is
	removed from the DOM

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/
/**
	LazyInstantiate

	Sargasso class watches the document for new content and instantiates
	Sargasso classes liested in element's data-lazy-sargasso-class only when
	the element scrolls into view

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/class $5c63bc90ab00148c$export$10307b0c33312dbb extends(0,$cc2c9f710b8f1d9a$export$d7944a94c1afb262){constructor(element,options={}){options.watchScroll=true;options.watchResize=true;options.watchDOM=true;options.immortal=true;super(element,options)}didResize(){super.didResize();this.lazyHandler()}didScroll(){super.didScroll();this.lazyHandler()}DOMChanged(root){super.DOMChanged(root);this.lazyHandler(root)}lazyHandler(root=document){const els=root.querySelectorAll("[data-lazy-sargasso-class]");for(let i=0;i<els.length;i++){const element=els[i];if((0,$d026517949359551$export$c7320459fd5267c0).inViewPort(element)){const cls=element.getAttribute("data-lazy-sargasso-class").split(/\s*,\s*/);for(let j=0;j<cls.length;j++){const thing=new(0,$cc2c9f710b8f1d9a$export$ac297e650eeb1e78)[cls[j]](els[i]);thing.start()}element.removeAttribute("data-lazy-sargasso-class")}}}}(0,$cc2c9f710b8f1d9a$export$22044c20eef36040)("LazyInstantiate",$5c63bc90ab00148c$export$10307b0c33312dbb);class $05b1fc629b3c6d05$export$26b75d03ac531c24 extends(0,$cc2c9f710b8f1d9a$export$d7944a94c1afb262){constructor(element,options={}){super(element,{watchDOM:true,mortal:false});this.lazy=new(0,$5c63bc90ab00148c$export$10307b0c33312dbb)(element,options)}start(){this.lazy.start();super.start()}instantiate(element){const cls=element.getAttribute("data-sargasso-class").split(/\s*,\s*/);for(let i=0;i<cls.length;i++)try{const thing=new(0,$cc2c9f710b8f1d9a$export$ac297e650eeb1e78)[cls[i]](element);thing.start()}catch(e){console.log("error instantiating "+cls[i],e,(0,$cc2c9f710b8f1d9a$export$ac297e650eeb1e78))}element.removeAttribute("data-sargasso-class")}newPage(){this.doIt()}DOMChanged(root){this.doIt(root)}doIt(root=document.body){if(root.getAttribute("data-sargasso-class"))this.instantiate(root);const elements=root.querySelectorAll("[data-sargasso-class]");for(const element of elements)this.instantiate(element);const toCleanup=[];for(let i=0;i<(0,$cc2c9f710b8f1d9a$export$85e745b96b6487a7).length;i++)if(!(0,$cc2c9f710b8f1d9a$export$85e745b96b6487a7)[i].options.immortal&&!(0,$cc2c9f710b8f1d9a$export$85e745b96b6487a7)[i].options.isCustomElement&&!document.body.contains((0,$cc2c9f710b8f1d9a$export$85e745b96b6487a7)[i].element))toCleanup.push((0,$cc2c9f710b8f1d9a$export$85e745b96b6487a7)[i]);for(let i=0;i<toCleanup.length;i++)toCleanup[i].destroy()}}(0,$cc2c9f710b8f1d9a$export$22044c20eef36040)("SargassoSupervisor",$05b1fc629b3c6d05$export$26b75d03ac531c24);
/**
	Breakpoints

	Sargasso class that maintains css classes on the document body
	to be used in css rules for implementing visibility and
	responsive behavior

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/const $314aa6f7b1217a0b$export$f86ec3d89f756a21=window.breakpoints||{widths:[{className:"breakpoint-phone",maxWidth:599},{className:"breakpoint-tablet",maxWidth:904},{className:"breakpoint-desktop",maxWidth:undefined}]};class $314aa6f7b1217a0b$export$c38d2c1bff643203 extends(0,$cc2c9f710b8f1d9a$export$d7944a94c1afb262){constructor(element,options={}){options.watchResize=true;super(element,options);this.options.widths=options.widths||$314aa6f7b1217a0b$export$f86ec3d89f756a21;this.scale=undefined;this.widths=[];this.classes=[];this.debouncedDetectGeometry=(0,$parcel$interopDefault($d840048267584034$exports))((()=>{this.detectGeometry()}),100,{maxWait:150})}start(){super.start();this.debouncedDetectGeometry()}didResize(){this.debouncedDetectGeometry()}detectGeometry(){const newScale=window.doBreakpoints(this.options.widths);if(newScale!==this.scale){const frame=()=>{this.notifyAll("didBreakpoint",[newScale])};this.queueFrame(frame)}this.scale=newScale}}(0,$cc2c9f710b8f1d9a$export$22044c20eef36040)("Breakpoints",$314aa6f7b1217a0b$export$c38d2c1bff643203);
/**
	HijaxLoader

	Sargasso class that captures links on the page and loads pages
	using AJAX only replacing elements on the page that are marked
	with data-hijax attributes.

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/class $68e6185d374b41db$export$8c08cf4432b2f5b3 extends(0,$cc2c9f710b8f1d9a$export$d7944a94c1afb262){constructor(element,options={}){options.watchDOM=true;options.immortal=true;super(element,options);this.excludeRegex=new RegExp("^(//|http|javascript|mailto|#)","i");this.currentPage=location.pathname+location.search;this.cachedMarkup={}}start(){const containers=document.querySelectorAll("[data-hijax-skip-unchanged]");for(let i=0;i<containers.length;i++){const container=containers[i];const id=container.getAttribute("id");this.cachedMarkup[id]=container.innerHTML}super.start();window.addEventListener("popstate",(e=>{this.watchPopState(e)}),false)}DOMChanged(root){super.DOMChanged(root);this.hijaxLinks(root)}watchPopState(e){if(location.pathname+location.search!==this.currentPage)this.preFlight(location.pathname+location.search)}hijaxLinks(fragment){const links=fragment?fragment.getElementsByTagName("a"):this.element.getElementsByTagName("a");for(let i=0;i<links.length;i++){const link=links[i];const href=link.getAttribute("href");if(href&&!link.getAttribute("data-hijaxed")&&!link.getAttribute("target")&&!link.hasAttribute("data-no-hijax")&&!this.excludeRegex.exec(href)){link.setAttribute("data-hijaxed",true);link.addEventListener("click",(e=>{e.preventDefault();this.setPage(href)}),false)}}}setPage(url,reload){if(url===this.currentPage||reload)this.preFlight(url);else{history.pushState(null,null,url);this.watchPopState()}}preFlight(url){if(!this.options.preFlight)return this.loadPage(url);this.options.preFlight(url,((err,handled,rewrite)=>{if(err){if(this.options.onError)this.options.onError("danger",err);else alert("Error loading page: "+err)}if(handled)this.currentPage=location.pathname+location.search;else this.loadPage(rewrite||url)}))}loadPage(url){const frame=()=>{(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).addClass(document.body,"hijax-loading")};this.queueFrame(frame);if(this.options.onExitPage)this.options.onExitPage();const xhr=new XMLHttpRequest;xhr.open("GET",url);xhr.setRequestHeader("Sargasso-Hijax",1);xhr.setRequestHeader("x-digitopia-hijax",1);if(this.options.onLoading){this.options.onLoading();xhr.onreadystatechange=this.options.onLoading}xhr.onload=()=>{if(xhr.status===301||xhr.status===302||xhr.getResponseHeader("Sargasso-Location")){const loc=xhr.getResponseHeader("Location")?xhr.getResponseHeader("Location"):xhr.getResponseHeader("Sargasso-Location");this.setPage(loc)}else if(xhr.status===200){(0,$d026517949359551$export$c7320459fd5267c0).scrollTop(0);this.mergePage(xhr.responseText);const oldPage=this.currentPage;const frame=()=>{this.notifyAll("newPage",[oldPage,location.pathname+location.search]);(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c).removeClass(document.body,"hijax-loading")};this.queueFrame(frame);this.currentPage=location.pathname+location.search}else{const flashLevel=xhr.getResponseHeader("Sargasso-Flash-Level")||"danger";let flashMessage=xhr.getResponseHeader("Sargasso-Flash-Message")||xhr.statusText;if(!flashMessage)flashMessage="Could not connect to server.";if(this.options.onError)this.options.onError(flashLevel,flashMessage);else alert("Error loading page: "+flashMessage)}};xhr.send()}processScripts(scripts){Array.from(scripts).forEach((script=>{script.remove();const id=script.getAttribute("id");if(!document.getElementById(id))document.getElementsByTagName("head")[0].appendChild(script)}))}mergePage(html){const ephemerals=document.querySelectorAll("[data-ephemeral]");Array.from(ephemerals).forEach((ephemeral=>{ephemeral.remove()}));const doc=html.split(/(<body[^>]*>|<\/body>)/gi);const fragment=$68e6185d374b41db$var$makeFragment(doc[2]);const containers=document.querySelectorAll("[data-hijax]");for(let i=0;i<containers.length;i++){const container=containers[i];const id=container.getAttribute("id");const replace=fragment.getElementById(id);if(container.hasAttribute("data-hijax-skip-unchanged")){if(this.cachedMarkup[id]===replace.innerHTML)continue;this.cachedMarkup[id]=replace.innerHTML}const k=container.getAttribute("data-hijax-cache-key-selector");if(k){if(replace.querySelector(k)&&container.querySelector(k)&&container.querySelector(k).getAttribute("data-hijax-cache-key")===replace.querySelector(k).getAttribute("data-hijax-cache-key"))continue}this.processScripts(replace.querySelectorAll("script"));const frame=()=>{container.parentNode.replaceChild(replace,container);if(this.options.onEnterPage)this.options.onEnterPage();this.hijaxLinks(replace)};this.queueFrame(frame)}}}(0,$cc2c9f710b8f1d9a$export$22044c20eef36040)("HijaxLoader",$68e6185d374b41db$export$8c08cf4432b2f5b3);const $68e6185d374b41db$var$makeFragment=html=>{if(document.createRange&&document.createRange().createContextualFragment)return document.createRange().createContextualFragment(html);const fragment=document.createDocumentFragment();const div=document.createElement("div");div.insertAdjacentHTML("afterBegin",html);fragment.appendChild(div);return fragment};let $9ab666cb428a37d6$export$7869d9d42a3fc8a6;const $9ab666cb428a37d6$export$80ed8a0252d89225=(options={})=>{if(options.scrollElement)(0,$d026517949359551$export$c7320459fd5267c0).setOptions(options);if(options.breakpoints){const breakpoints=new(0,$314aa6f7b1217a0b$export$c38d2c1bff643203)(document.body,options.breakpoints);breakpoints.start()}if(options.hijax){const hijax=new(0,$68e6185d374b41db$export$8c08cf4432b2f5b3)(document.body,options.hijax);hijax.start();$9ab666cb428a37d6$export$7869d9d42a3fc8a6=hijax.setPage.bind(hijax)}else $9ab666cb428a37d6$export$7869d9d42a3fc8a6=url=>{document.location.href=url};const supervisor=new(0,$05b1fc629b3c6d05$export$26b75d03ac531c24)(document.body,options);supervisor.start(options);return supervisor};
/**
	ObservableClient

	Build an obserbable object that syncs with a server via socket.io

	@author Michael Rhodes (except where noted)
	@license MIT
	Made in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020-2023 Michael Rhodes
**/var $3b107fc3e17ef5bd$exports={};"use strict";var $ee35ae57d9f478a6$exports={};var $ee35ae57d9f478a6$var$hasOwn=Object.prototype.hasOwnProperty;var $ee35ae57d9f478a6$var$toString=Object.prototype.toString;$ee35ae57d9f478a6$exports=function forEach(obj,fn,ctx){if($ee35ae57d9f478a6$var$toString.call(fn)!=="[object Function]")throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;i<l;i++)fn.call(ctx,obj[i],i,obj);else{for(var k in obj)if($ee35ae57d9f478a6$var$hasOwn.call(obj,k))fn.call(ctx,obj[k],k,obj)}};$3b107fc3e17ef5bd$exports=$3b107fc3e17ef5bd$var$api;function $3b107fc3e17ef5bd$var$api(obj,pointer,value){if(arguments.length===3)return $3b107fc3e17ef5bd$var$api.set(obj,pointer,value);if(arguments.length===2)return $3b107fc3e17ef5bd$var$api.get(obj,pointer);var wrapped=$3b107fc3e17ef5bd$var$api.bind($3b107fc3e17ef5bd$var$api,obj);for(var name in $3b107fc3e17ef5bd$var$api)if($3b107fc3e17ef5bd$var$api.hasOwnProperty(name))wrapped[name]=$3b107fc3e17ef5bd$var$api[name].bind(wrapped,obj);return wrapped}$3b107fc3e17ef5bd$var$api.get=function get(obj,pointer){var refTokens=Array.isArray(pointer)?pointer:$3b107fc3e17ef5bd$var$api.parse(pointer);for(var i=0;i<refTokens.length;++i){var tok=refTokens[i];if(!(typeof obj=="object"&&tok in obj))throw new Error("Invalid reference token: "+tok);obj=obj[tok]}return obj};$3b107fc3e17ef5bd$var$api.set=function set(obj,pointer,value){var refTokens=Array.isArray(pointer)?pointer:$3b107fc3e17ef5bd$var$api.parse(pointer),nextTok=refTokens[0];if(refTokens.length===0)throw Error("Can not set the root object");for(var i=0;i<refTokens.length-1;++i){var tok=refTokens[i];if(typeof tok!=="string"&&typeof tok!=="number")tok=String(tok);if(tok==="__proto__"||tok==="constructor"||tok==="prototype")continue;if(tok==="-"&&Array.isArray(obj))tok=obj.length;nextTok=refTokens[i+1];if(!(tok in obj)){if(nextTok.match(/^(\d+|-)$/))obj[tok]=[];else obj[tok]={}}obj=obj[tok]}if(nextTok==="-"&&Array.isArray(obj))nextTok=obj.length;obj[nextTok]=value;return this};$3b107fc3e17ef5bd$var$api.remove=function(obj,pointer){var refTokens=Array.isArray(pointer)?pointer:$3b107fc3e17ef5bd$var$api.parse(pointer);var finalToken=refTokens[refTokens.length-1];if(finalToken===undefined)throw new Error('Invalid JSON pointer for remove: "'+pointer+'"');var parent=$3b107fc3e17ef5bd$var$api.get(obj,refTokens.slice(0,-1));if(Array.isArray(parent)){var index=+finalToken;if(finalToken===""&&isNaN(index))throw new Error('Invalid array index: "'+finalToken+'"');Array.prototype.splice.call(parent,index,1)}else delete parent[finalToken]};$3b107fc3e17ef5bd$var$api.dict=function dict(obj,descend){var results={};$3b107fc3e17ef5bd$var$api.walk(obj,(function(value,pointer){results[pointer]=value}),descend);return results};$3b107fc3e17ef5bd$var$api.walk=function walk(obj,iterator,descend){var refTokens=[];descend=descend||function(value){var type=Object.prototype.toString.call(value);return type==="[object Object]"||type==="[object Array]"};(function next(cur){$ee35ae57d9f478a6$exports(cur,(function(value,key){refTokens.push(String(key));if(descend(value))next(value);else iterator(value,$3b107fc3e17ef5bd$var$api.compile(refTokens));refTokens.pop()}))})(obj)};$3b107fc3e17ef5bd$var$api.has=function has(obj,pointer){try{$3b107fc3e17ef5bd$var$api.get(obj,pointer)}catch(e){return false}return true};$3b107fc3e17ef5bd$var$api.escape=function escape(str){return str.toString().replace(/~/g,"~0").replace(/\//g,"~1")};$3b107fc3e17ef5bd$var$api.unescape=function unescape(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")};$3b107fc3e17ef5bd$var$api.parse=function parse(pointer){if(pointer==="")return[];if(pointer.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+pointer);return pointer.substring(1).split(/\//).map($3b107fc3e17ef5bd$var$api.unescape)};$3b107fc3e17ef5bd$var$api.compile=function compile(refTokens){if(refTokens.length===0)return"";return"/"+refTokens.map($3b107fc3e17ef5bd$var$api.escape).join("/")};const $6cc3a86e86a06450$export$2bddc7254d5a4249=(source,dest)=>{Object.keys(source).forEach((key=>{if(Array.isArray(source[key])){dest[key]=[];$6cc3a86e86a06450$export$2bddc7254d5a4249(source[key],dest[key])}else if(typeof source[key]==="object"){dest[key]={};$6cc3a86e86a06450$export$2bddc7254d5a4249(source[key],dest[key])}else dest[key]=source[key]}))};class $f11df64d5740bdb1$export$8d7915f8e0cd6b7a extends(0,$05b7f40ae55d062a$export$b176171395436676){constructor(id,data={},options={}){(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9)("ObservableClient constructor endpoint",options.endpoint,["isDefined","isString"]);super(id,data,options);this.socket=null;this.connected=false;this.socket=(options.io||io)(this.options.endpoint);this.socket.on("error",(err=>{this.emit("error",{message:"socket error",error:err})}));this.socket.on("connect_error",(err=>{this.emit("error",{message:"connect_error",error:err});this.connected=false}));this.socket.on("disconnect",(reason=>{this.emit("error",{message:"disconnect",reason:reason});this.connected=false}));this.socket.on("connect",(()=>{this.socket.emit("authenticate",this.id,this.getSource(),this.authenticateHandler.bind(this))}));this.socket.on("change",(event=>{for(const change of event.changes){const type=change.type;const path=change.currentPath;const newValue=change.newValue;const previousValue=change.previousValue;const ptr="/"+path.replace(/\./g,"/");if(type==="update"||type==="add"){if(!(0,$parcel$interopDefault($3b107fc3e17ef5bd$exports)).has(this.unproxied,ptr)||(0,$parcel$interopDefault($3b107fc3e17ef5bd$exports)).get(this.unproxied,ptr)!==newValue)(0,$parcel$interopDefault($3b107fc3e17ef5bd$exports)).set(this.unproxied,ptr,newValue)}if(type==="delete"){if((0,$parcel$interopDefault($3b107fc3e17ef5bd$exports)).has(this.unproxied,ptr))(0,$parcel$interopDefault($3b107fc3e17ef5bd$exports)).remove(this.unproxied,ptr)}}this.sync(event.changes,event.source);this.emit("sync_from_server")}));if(!this.options.authoritative)this.socket.on("init",(event=>{(0,$6cc3a86e86a06450$export$2bddc7254d5a4249)(event.init,this.unproxied);this.sync(event.changes,event.source);this.emit("initialized")}))}authenticateHandler(result){if(result.status!=="ok"){this.emit("error",{message:"ObservableClient authentication failed",error:result});return}if(this.options.authoritative)this.socket.emit("init",{source:this.getSource(),init:this.unproxied,changes:[{type:"init"}]});this.connected=true;this.emit("status","connected")}getSource(){return super.getSource()+":client:"+this.socket.id}destroy(){if(this.socket)this.socket.disconnect(true);super.destroy()}sync(changes,source){super.sync(changes);if(source===this.getSource()&&this.socket&&this.connected)this.socket.emit("change",{sourceId:this.getSource(),changes:changes},(result=>{if(result.status!=="ok")this.emit("error",{message:"sync error",response:result});else this.emit("status","sync ok")}))}}const $74781ab65e5661d8$export$eab97d15b1788b8d={registerSargassoClass:(0,$cc2c9f710b8f1d9a$export$22044c20eef36040),bootSargasso:(0,$9ab666cb428a37d6$export$80ed8a0252d89225),elementTools:(0,$b17b0a5c39dee3e4$export$6f53260fffa88f1c),validate:(0,$d058b9b16cf9cda3$export$a22775fa5e2eebd9),setValidator:(0,$d058b9b16cf9cda3$export$636d763ed7be9e97),getObservable:(0,$05b7f40ae55d062a$export$7ec259ba0528fb23)};const $74781ab65e5661d8$export$bce7a36871692cab={theDOMWatcher:(0,$d026517949359551$export$77e1d49fdb880d27),theScrollWatcher:(0,$d026517949359551$export$c7320459fd5267c0),theResizeWatcher:(0,$d026517949359551$export$497098c8185e6e33),theOrientationWatcher:(0,$d026517949359551$export$296acd8d6f329fa3),theWorkerWatcher:(0,$d026517949359551$export$fa28dfcc49831a91),theObservableObjectWatcher:(0,$d026517949359551$export$788f7857dc8c77f5)};const $74781ab65e5661d8$export$505f1cb98cb78c0d={liveElements:(0,$cc2c9f710b8f1d9a$export$85e745b96b6487a7),registeredClasses:(0,$cc2c9f710b8f1d9a$export$ac297e650eeb1e78),elementMetaData:(0,$b17b0a5c39dee3e4$export$8350ba437fdadadb)};export{$74781ab65e5661d8$export$eab97d15b1788b8d as utils,$74781ab65e5661d8$export$bce7a36871692cab as services,$74781ab65e5661d8$export$505f1cb98cb78c0d as system,$cc2c9f710b8f1d9a$export$d7944a94c1afb262 as Sargasso,$9ab666cb428a37d6$export$7869d9d42a3fc8a6 as loadPageHandler,$05b7f40ae55d062a$export$b176171395436676 as ObservableObject,$f11df64d5740bdb1$export$8d7915f8e0cd6b7a as ObservableClient};