<!doctype>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			#spacer.below-the-fold { height:100vh; }
			.hidden-display { display: none; }
		</style>
	</head>
	<body style="height:200vh;">
		<div id="hijaxed" data-hijax>
			<div>
				HiJaxed content here. index.html
			</div>
		</div>
		<div style="text-align:center;">
			<div id="test-element" style="border:thin dashed silver;min-height:33vh;width:33vw;">
				<div id="nested-element" class="clickable" style="border:thin dashed blue; padding: 1em;">
					<p id="p-nested" style="border:thin solid black">nested</p>
					<div id="deep-nested-element" style="border:thin dashed red; padding: 1em;">
						<p id="p-deep" style="border:thin solid black">Deep</p>
					</div>
				</div>
				<div id="nested-element1" class="clickable" style="border:thin dashed green; padding: 1em;">
					<p id="p-nested1" style="border:thin solid black" >nested 1</p>
				</div>
			</div>
		</div>
		<div id="log"></div>
		<script src="../dist/sargasso.iife.js"></script>
		<script defer>
			PelagicCreatures.utils.bootSargasso()

			let log = document.getElementById('log')
			PelagicCreatures.utils.elementTools.on('myid1', document.getElementById('test-element'), 'click', '.clickable', (e,elem)=>{
				log.innerHTML +='<p>delegated ' + elem.getAttribute('id') + ' ' + e.target.tagName + ' ' + e.target.getAttribute('id') + '</p>'
			})

			PelagicCreatures.utils.elementTools.on('myid2', document.getElementById('p-nested1'), 'click', (e)=>{
				log.innerHTML +='<p>undelegated ' + e.currentTarget.getAttribute('id') + '</p>'
			})

			PelagicCreatures.utils.elementTools.on('myid3', document.getElementById('test-element'), 'click', (e)=>{
				log.innerHTML +='<p>undelegated ' + e.currentTarget.getAttribute('id') + '</p>'
			})

		</script>
	</body>
</html>
