<!DOCTYPE html>
<html>
<head>
  <title>Example Sargasso Element</title>
</head>
<body>
	<h3>Sargasso examples</h3>
	<ul>
		<li><a href="example1.html">Example 1</a></li>
		<li><a href="example2.html">Example 2</a></li>
		<li><a href="example3.html">Example 3</a></li>
	</ul>
	<sargasso-my-class></sargasso-my-class>
	<script src="../dist/sargasso.iife.js"></script>
	<script defer>

		let observed = SargassoModule.services.theObservableObjectWatcher.register('shared-data')
		observed.set('name','World!')

		class MyClass extends SargassoModule.Sargasso {
			constructor(element,options) {
				super(element,options)
			}

			start() {
				super.start()
				this.observableObjectStart('shared-data');

				this.setTemplate((args) => SargassoModule.utils.html`<p>Hello ${args.name}</p>`)
				this.setTemplateArgs(observed.data)
			}

			sleep() {
				this.observableObjectStop('shared-data');
				super.sleep()
			}

			observableChanged(id, property, source) {
				console.log('somone changed observable: ',id,property,source)
				this.render()
			}
		}

		SargassoModule.utils.registerSargassoClass('MyClass', MyClass)

		SargassoModule.utils.bootSargasso()

		observed.set('name','World!!!!')

	</script>
</body>
</html>
